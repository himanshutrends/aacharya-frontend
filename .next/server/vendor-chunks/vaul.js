"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/vaul";
exports.ids = ["vendor-chunks/vaul"];
exports.modules = {

/***/ "(ssr)/./node_modules/vaul/dist/index.mjs":
/*!******************************************!*\
  !*** ./node_modules/vaul/dist/index.mjs ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Drawer: () => (/* binding */ nn)\n/* harmony export */ });\n/* harmony import */ var _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @radix-ui/react-dialog */ \"(ssr)/./node_modules/@radix-ui/react-dialog/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* __next_internal_client_entry_do_not_use__ Drawer auto */ \n\n\nvar Ee = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext({\n    drawerRef: {\n        current: null\n    },\n    overlayRef: {\n        current: null\n    },\n    scaleBackground: ()=>{},\n    onPress: ()=>{},\n    onRelease: ()=>{},\n    onDrag: ()=>{},\n    onNestedDrag: ()=>{},\n    onNestedOpenChange: ()=>{},\n    onNestedRelease: ()=>{},\n    openProp: void 0,\n    dismissible: !1,\n    isOpen: !1,\n    keyboardIsOpen: {\n        current: !1\n    },\n    snapPointsOffset: null,\n    snapPoints: null,\n    modal: !1,\n    shouldFade: !1,\n    activeSnapPoint: null,\n    onOpenChange: ()=>{},\n    setActiveSnapPoint: ()=>{},\n    visible: !1,\n    closeDrawer: ()=>{},\n    setVisible: ()=>{},\n    direction: \"bottom\"\n}), fe = ()=>react__WEBPACK_IMPORTED_MODULE_0__.useContext(Ee);\nfunction Te(e, { insertAt: n } = {}) {\n    if (!e || typeof document == \"undefined\") return;\n    let t = document.head || document.getElementsByTagName(\"head\")[0], r = document.createElement(\"style\");\n    r.type = \"text/css\", n === \"top\" && t.firstChild ? t.insertBefore(r, t.firstChild) : t.appendChild(r), r.styleSheet ? r.styleSheet.cssText = e : r.appendChild(document.createTextNode(e));\n}\nTe(`[vaul-drawer]{touch-action:none;transition:transform .5s cubic-bezier(.32,.72,0,1)}[vaul-drawer][vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[vaul-drawer][vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[vaul-drawer][vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[vaul-drawer][vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}.vaul-dragging .vaul-scrollable [vault-drawer-direction=top],.vaul-dragging .vaul-scrollable [vault-drawer-direction=bottom]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=left],.vaul-dragging .vaul-scrollable [vault-drawer-direction=right]{overflow-x:hidden!important}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=top],[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height, 0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=left],[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height, 0),0,0)}[vaul-overlay]{opacity:0;transition:opacity .5s cubic-bezier(.32,.72,0,1)}[vaul-overlay][vaul-drawer-visible=true]{opacity:1}[vaul-drawer]:after{content:\"\";position:absolute;background:inherit;background-color:inherit}[vaul-drawer][vaul-drawer-direction=top]:after{top:initial;bottom:100%;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=bottom]:after{top:100%;bottom:initial;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=left]:after{left:initial;right:100%;top:0;bottom:0;width:200%}[vaul-drawer][vaul-drawer-direction=right]:after{left:100%;right:initial;top:0;bottom:0;width:200%}[vaul-overlay][vaul-snap-points=true]:not([vaul-snap-points-overlay=\"true\"]):not([data-state=\"closed\"]){opacity:0}[vaul-overlay][vaul-snap-points-overlay=true]:not([vaul-drawer-visible=\"false\"]){opacity:1}@keyframes fake-animation{}@media (hover: hover) and (pointer: fine){[vaul-drawer]{user-select:none}}\n`);\n\nvar pt =  false ? 0 : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\nfunction Se(...e) {\n    return (...n)=>{\n        for (let t of e)typeof t == \"function\" && t(...n);\n    };\n}\nfunction vt() {\n    return xe(/^Mac/);\n}\nfunction wt() {\n    return xe(/^iPhone/);\n}\nfunction ht() {\n    return xe(/^iPad/) || vt() && navigator.maxTouchPoints > 1;\n}\nfunction Re() {\n    return wt() || ht();\n}\nfunction xe(e) {\n    return  false ? 0 : void 0;\n}\nvar ye = typeof document != \"undefined\" && window.visualViewport;\nfunction We(e) {\n    let n = window.getComputedStyle(e);\n    return /(auto|scroll)/.test(n.overflow + n.overflowX + n.overflowY);\n}\nfunction Ue(e) {\n    for(We(e) && (e = e.parentElement); e && !We(e);)e = e.parentElement;\n    return e || document.scrollingElement || document.documentElement;\n}\nvar Et = new Set([\n    \"checkbox\",\n    \"radio\",\n    \"range\",\n    \"color\",\n    \"file\",\n    \"image\",\n    \"button\",\n    \"submit\",\n    \"reset\"\n]), me = 0, De;\nfunction je(e = {}) {\n    let { isDisabled: n } = e;\n    pt(()=>{\n        if (!n) return me++, me === 1 && (Re() ? De = yt() : De = Tt()), ()=>{\n            me--, me === 0 && De();\n        };\n    }, [\n        n\n    ]);\n}\nfunction Tt() {\n    return Se(ke(document.documentElement, \"paddingRight\", `${window.innerWidth - document.documentElement.clientWidth}px`));\n}\nfunction yt() {\n    let e, n = 0, t = (h)=>{\n        e = Ue(h.target), !(e === document.documentElement && e === document.body) && (n = h.changedTouches[0].pageY);\n    }, r = (h)=>{\n        if (!e || e === document.documentElement || e === document.body) {\n            h.preventDefault();\n            return;\n        }\n        let d = h.changedTouches[0].pageY, u = e.scrollTop, $ = e.scrollHeight - e.clientHeight;\n        $ !== 0 && ((u <= 0 && d > n || u >= $ && d < n) && h.preventDefault(), n = d);\n    }, a = (h)=>{\n        let d = h.target;\n        ge(d) && d !== document.activeElement && (h.preventDefault(), d.style.transform = \"translateY(-2000px)\", d.focus(), requestAnimationFrame(()=>{\n            d.style.transform = \"\";\n        }));\n    }, o = (h)=>{\n        let d = h.target;\n        ge(d) && (d.style.transform = \"translateY(-2000px)\", requestAnimationFrame(()=>{\n            d.style.transform = \"\", ye && (ye.height < window.innerHeight ? requestAnimationFrame(()=>{\n                Fe(d);\n            }) : ye.addEventListener(\"resize\", ()=>Fe(d), {\n                once: !0\n            }));\n        }));\n    }, s = ()=>{\n        window.scrollTo(0, 0);\n    }, b = window.pageXOffset, H = window.pageYOffset, x = Se(ke(document.documentElement, \"paddingRight\", `${window.innerWidth - document.documentElement.clientWidth}px`));\n    window.scrollTo(0, 0);\n    let S = Se(oe(document, \"touchstart\", t, {\n        passive: !1,\n        capture: !0\n    }), oe(document, \"touchmove\", r, {\n        passive: !1,\n        capture: !0\n    }), oe(document, \"touchend\", a, {\n        passive: !1,\n        capture: !0\n    }), oe(document, \"focus\", o, !0), oe(window, \"scroll\", s));\n    return ()=>{\n        x(), S(), window.scrollTo(b, H);\n    };\n}\nfunction ke(e, n, t) {\n    let r = e.style[n];\n    return e.style[n] = t, ()=>{\n        e.style[n] = r;\n    };\n}\nfunction oe(e, n, t, r) {\n    return e.addEventListener(n, t, r), ()=>{\n        e.removeEventListener(n, t, r);\n    };\n}\nfunction Fe(e) {\n    let n = document.scrollingElement || document.documentElement;\n    for(; e && e !== n;){\n        let t = Ue(e);\n        if (t !== document.documentElement && t !== document.body && t !== e) {\n            let r = t.getBoundingClientRect().top, a = e.getBoundingClientRect().top, o = e.getBoundingClientRect().bottom, s = t.getBoundingClientRect().bottom;\n            o > s && (t.scrollTop += a - r);\n        }\n        e = t.parentElement;\n    }\n}\nfunction ge(e) {\n    return e instanceof HTMLInputElement && !Et.has(e.type) || e instanceof HTMLTextAreaElement || e instanceof HTMLElement && e.isContentEditable;\n}\n\nfunction Dt(e, n) {\n    typeof e == \"function\" ? e(n) : e != null && (e.current = n);\n}\nfunction St(...e) {\n    return (n)=>e.forEach((t)=>Dt(t, n));\n}\nfunction He(...e) {\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback(St(...e), e);\n}\n\nvar F = null;\nfunction ze({ isOpen: e, modal: n, nested: t, hasBeenOpened: r, preventScrollRestoration: a }) {\n    let [o, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState( false ? 0 : \"\"), b = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0), H = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        if (F === null && e) {\n            F = {\n                position: document.body.style.position,\n                top: document.body.style.top,\n                left: document.body.style.left,\n                height: document.body.style.height\n            };\n            let { scrollX: S, innerHeight: h } = window;\n            document.body.style.setProperty(\"position\", \"fixed\", \"important\"), document.body.style.top = `${-b.current}px`, document.body.style.left = `${-S}px`, document.body.style.right = \"0px\", document.body.style.height = \"auto\", setTimeout(()=>requestAnimationFrame(()=>{\n                    let d = h - window.innerHeight;\n                    d && b.current >= h && (document.body.style.top = `${-(b.current + d)}px`);\n                }), 300);\n        }\n    }, [\n        e\n    ]), x = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        if (F !== null) {\n            let S = -parseInt(document.body.style.top, 10), h = -parseInt(document.body.style.left, 10);\n            document.body.style.position = F.position, document.body.style.top = F.top, document.body.style.left = F.left, document.body.style.height = F.height, document.body.style.right = \"unset\", requestAnimationFrame(()=>{\n                if (a && o !== window.location.href) {\n                    s(window.location.href);\n                    return;\n                }\n                window.scrollTo(h, S);\n            }), F = null;\n        }\n    }, [\n        o\n    ]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        function S() {\n            b.current = window.scrollY;\n        }\n        return S(), window.addEventListener(\"scroll\", S), ()=>{\n            window.removeEventListener(\"scroll\", S);\n        };\n    }, []), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        t || !r || (e ? (H(), n || setTimeout(()=>{\n            x();\n        }, 500)) : x());\n    }, [\n        e,\n        r,\n        o,\n        n,\n        t,\n        H,\n        x\n    ]), {\n        restorePositionSetting: x\n    };\n}\n\nvar Ye = new WeakMap;\nfunction y(e, n, t = !1) {\n    if (!e || !(e instanceof HTMLElement) || !n) return;\n    let r = {};\n    Object.entries(n).forEach(([a, o])=>{\n        if (a.startsWith(\"--\")) {\n            e.style.setProperty(a, o);\n            return;\n        }\n        r[a] = e.style[a], e.style[a] = o;\n    }), !t && Ye.set(e, r);\n}\nfunction ie(e, n) {\n    if (!e || !(e instanceof HTMLElement)) return;\n    let t = Ye.get(e);\n    t && (n ? e.style[n] = t[n] : Object.entries(t).forEach(([r, a])=>{\n        e.style[r] = a;\n    }));\n}\nvar R = (e)=>{\n    switch(e){\n        case \"top\":\n        case \"bottom\":\n            return !0;\n        case \"left\":\n        case \"right\":\n            return !1;\n        default:\n            return e;\n    }\n};\nfunction ae(e, n) {\n    let t = window.getComputedStyle(e), r = t.transform || t.webkitTransform || t.mozTransform, a = r.match(/^matrix3d\\((.+)\\)$/);\n    return a ? parseFloat(a[1].split(\", \")[R(n) ? 13 : 12]) : (a = r.match(/^matrix\\((.+)\\)$/), a ? parseFloat(a[1].split(\", \")[R(n) ? 5 : 4]) : null);\n}\nfunction _e(e) {\n    return 8 * (Math.log(e + 1) - 2);\n}\nvar T = {\n    DURATION: .5,\n    EASE: [\n        .32,\n        .72,\n        0,\n        1\n    ]\n}, be = .4;\n\nfunction qe(e) {\n    let n = react__WEBPACK_IMPORTED_MODULE_0__.useRef(e);\n    return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        n.current = e;\n    }), react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>(...t)=>{\n            var r;\n            return (r = n.current) == null ? void 0 : r.call(n, ...t);\n        }, []);\n}\nfunction Rt({ defaultProp: e, onChange: n }) {\n    let t = react__WEBPACK_IMPORTED_MODULE_0__.useState(e), [r] = t, a = react__WEBPACK_IMPORTED_MODULE_0__.useRef(r), o = qe(n);\n    return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        a.current !== r && (o(r), a.current = r);\n    }, [\n        r,\n        a,\n        o\n    ]), t;\n}\nfunction Xe({ prop: e, defaultProp: n, onChange: t = ()=>{} }) {\n    let [r, a] = Rt({\n        defaultProp: n,\n        onChange: t\n    }), o = e !== void 0, s = o ? e : r, b = qe(t), H = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((x)=>{\n        if (o) {\n            let h = typeof x == \"function\" ? x(e) : x;\n            h !== e && b(h);\n        } else a(x);\n    }, [\n        o,\n        e,\n        a,\n        b\n    ]);\n    return [\n        s,\n        H\n    ];\n}\nfunction Ke({ activeSnapPointProp: e, setActiveSnapPointProp: n, snapPoints: t, drawerRef: r, overlayRef: a, fadeFromIndex: o, onSnapPointChange: s, direction: b = \"bottom\" }) {\n    let [H, x] = Xe({\n        prop: e,\n        defaultProp: t == null ? void 0 : t[0],\n        onChange: n\n    }), S = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>H === (t == null ? void 0 : t[t.length - 1]) || null, [\n        t,\n        H\n    ]), h = t && t.length > 0 && (o || o === 0) && !Number.isNaN(o) && t[o] === H || !t, d = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>t == null ? void 0 : t.findIndex((g)=>g === H), [\n        t,\n        H\n    ]), u = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>{\n        var g;\n        return (g = t == null ? void 0 : t.map((p)=>{\n            let v = \"undefined\" != \"undefined\", C = typeof p == \"string\", A = 0;\n            if (C && (A = parseInt(p, 10)), R(b)) {\n                let P = C ? A : v ? p * window.innerHeight : 0;\n                return v ? b === \"bottom\" ? window.innerHeight - P : -window.innerHeight + P : P;\n            }\n            let N = C ? A : v ? p * window.innerWidth : 0;\n            return v ? b === \"right\" ? window.innerWidth - N : -window.innerWidth + N : N;\n        })) != null ? g : [];\n    }, [\n        t\n    ]), $ = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>d !== null ? u == null ? void 0 : u[d] : null, [\n        u,\n        d\n    ]), I = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((g)=>{\n        var v;\n        let p = (v = u == null ? void 0 : u.findIndex((C)=>C === g)) != null ? v : null;\n        s(p), y(r.current, {\n            transition: `transform ${T.DURATION}s cubic-bezier(${T.EASE.join(\",\")})`,\n            transform: R(b) ? `translate3d(0, ${g}px, 0)` : `translate3d(${g}px, 0, 0)`\n        }), u && p !== u.length - 1 && p !== o ? y(a.current, {\n            transition: `opacity ${T.DURATION}s cubic-bezier(${T.EASE.join(\",\")})`,\n            opacity: \"0\"\n        }) : y(a.current, {\n            transition: `opacity ${T.DURATION}s cubic-bezier(${T.EASE.join(\",\")})`,\n            opacity: \"1\"\n        }), x(p !== null ? t == null ? void 0 : t[p] : null);\n    }, [\n        r.current,\n        t,\n        u,\n        o,\n        a,\n        x\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        var g;\n        if (e) {\n            let p = (g = t == null ? void 0 : t.findIndex((v)=>v === e)) != null ? g : -1;\n            u && p !== -1 && typeof u[p] == \"number\" && I(u[p]);\n        }\n    }, [\n        e,\n        t,\n        u,\n        I\n    ]);\n    function U({ draggedDistance: g, closeDrawer: p, velocity: v, dismissible: C }) {\n        if (o === void 0) return;\n        let A = b === \"bottom\" || b === \"right\" ? ($ != null ? $ : 0) - g : ($ != null ? $ : 0) + g, N = d === o - 1, P = d === 0, Q = g > 0;\n        if (N && y(a.current, {\n            transition: `opacity ${T.DURATION}s cubic-bezier(${T.EASE.join(\",\")})`\n        }), v > 2 && !Q) {\n            C ? p() : I(u[0]);\n            return;\n        }\n        if (v > 2 && Q && u && t) {\n            I(u[t.length - 1]);\n            return;\n        }\n        let Z = u == null ? void 0 : u.reduce((V, Y)=>typeof V != \"number\" || typeof Y != \"number\" ? V : Math.abs(Y - A) < Math.abs(V - A) ? Y : V), le = R(b) ? window.innerHeight : window.innerWidth;\n        if (v > be && Math.abs(g) < le * .4) {\n            let V = Q ? 1 : -1;\n            if (V > 0 && S) {\n                I(u[t.length - 1]);\n                return;\n            }\n            if (P && V < 0 && C && p(), d === null) return;\n            I(u[d + V]);\n            return;\n        }\n        I(Z);\n    }\n    function f({ draggedDistance: g }) {\n        if ($ === null) return;\n        let p = b === \"bottom\" || b === \"right\" ? $ - g : $ + g;\n        (b === \"bottom\" || b === \"right\") && p < u[u.length - 1] || (b === \"top\" || b === \"left\") && p > u[u.length - 1] || y(r.current, {\n            transform: R(b) ? `translate3d(0, ${p}px, 0)` : `translate3d(${p}px, 0, 0)`\n        });\n    }\n    function J(g, p) {\n        if (!t || typeof d != \"number\" || !u || o === void 0) return null;\n        let v = d === o - 1;\n        if (d >= o && p) return 0;\n        if (v && !p) return 1;\n        if (!h && !v) return null;\n        let A = v ? d + 1 : d - 1, N = v ? u[A] - u[A - 1] : u[A + 1] - u[A], P = g / Math.abs(N);\n        return v ? 1 - P : P;\n    }\n    return {\n        isLastSnapPoint: S,\n        activeSnapPoint: H,\n        shouldFade: h,\n        getPercentageDragged: J,\n        setActiveSnapPoint: x,\n        activeSnapPointIndex: d,\n        onRelease: U,\n        onDrag: f,\n        snapPointsOffset: u\n    };\n}\nvar xt = .25, Ht = 100, Ge = 8, z = 16, Je = 26, Qe = \"vaul-dragging\";\nfunction Ze({ open: e, onOpenChange: n, children: t, shouldScaleBackground: r, onDrag: a, onRelease: o, snapPoints: s, nested: b = !1, closeThreshold: H = xt, scrollLockTimeout: x = Ht, dismissible: S = !0, fadeFromIndex: h = s && s.length - 1, activeSnapPoint: d, setActiveSnapPoint: u, fixed: $, modal: I = !0, onClose: U, direction: f = \"bottom\", preventScrollRestoration: J = !0 }) {\n    var Ne;\n    let [g = !1, p] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1), [v, C] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1), [A, N] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1), [P, Q] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1), [Z, le] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1), [V, Y] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1), j = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), se = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), pe = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), Me = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), ee = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), ue = react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1), ve = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), we = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0), _ = react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1), $e = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0), l = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), Le = react__WEBPACK_IMPORTED_MODULE_0__.useRef(((Ne = l.current) == null ? void 0 : Ne.getBoundingClientRect().height) || 0), he = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0), nt = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i)=>{\n        s && i === ne.length - 1 && (se.current = new Date);\n    }, []), { activeSnapPoint: rt, activeSnapPointIndex: te, setActiveSnapPoint: Ce, onRelease: ot, snapPointsOffset: ne, onDrag: it, shouldFade: Ae, getPercentageDragged: at } = Ke({\n        snapPoints: s,\n        activeSnapPointProp: d,\n        setActiveSnapPointProp: u,\n        drawerRef: l,\n        fadeFromIndex: h,\n        overlayRef: j,\n        onSnapPointChange: nt,\n        direction: f\n    });\n    je({\n        isDisabled: !g || Z || !I || V || !v\n    });\n    let { restorePositionSetting: lt } = ze({\n        isOpen: g,\n        modal: I,\n        nested: b,\n        hasBeenOpened: v,\n        preventScrollRestoration: J\n    });\n    function q() {\n        return (window.innerWidth - Je) / window.innerWidth;\n    }\n    function st(i) {\n        var c;\n        !S && !s || l.current && !l.current.contains(i.target) || (Le.current = ((c = l.current) == null ? void 0 : c.getBoundingClientRect().height) || 0, le(!0), pe.current = new Date, Re() && window.addEventListener(\"touchend\", ()=>ue.current = !1, {\n            once: !0\n        }), i.target.setPointerCapture(i.pointerId), we.current = R(f) ? i.screenY : i.screenX);\n    }\n    function Oe(i, c) {\n        var O;\n        let w = i, E = (O = window.getSelection()) == null ? void 0 : O.toString(), D = l.current ? ae(l.current, f) : null, M = new Date;\n        if (w.hasAttribute(\"data-vaul-no-drag\")) return !1;\n        if (f === \"right\" || f === \"left\") return !0;\n        if (se.current && M.getTime() - se.current.getTime() < 500) return !1;\n        if (D !== null && (f === \"bottom\" ? D > 0 : D < 0)) return !0;\n        if (E && E.length > 0) return !1;\n        if (ee.current && M.getTime() - ee.current.getTime() < x && D === 0 || c) return ee.current = M, !1;\n        for(; w;){\n            if (w.scrollHeight > w.clientHeight) {\n                if (w.scrollTop !== 0) return ee.current = new Date, !1;\n                if (w.getAttribute(\"role\") === \"dialog\") return !0;\n            }\n            w = w.parentNode;\n        }\n        return !0;\n    }\n    function ut(i) {\n        if (l.current && Z) {\n            let c = f === \"bottom\" || f === \"right\" ? 1 : -1, w = (we.current - (R(f) ? i.screenY : i.screenX)) * c, E = w > 0;\n            if (s && te === 0 && !S || !ue.current && !Oe(i.target, E)) return;\n            if (l.current.classList.add(Qe), ue.current = !0, y(l.current, {\n                transition: \"none\"\n            }), y(j.current, {\n                transition: \"none\"\n            }), s && it({\n                draggedDistance: w\n            }), E && !s) {\n                let W = _e(w), de = Math.min(W * -1, 0) * c;\n                y(l.current, {\n                    transform: R(f) ? `translate3d(0, ${de}px, 0)` : `translate3d(${de}px, 0, 0)`\n                });\n                return;\n            }\n            let D = Math.abs(w), M = document.querySelector(\"[vaul-drawer-wrapper]\"), O = D / Le.current, re = at(D, E);\n            re !== null && (O = re);\n            let k = 1 - O;\n            if ((Ae || h && te === h - 1) && (a == null || a(i, O), y(j.current, {\n                opacity: `${k}`,\n                transition: \"none\"\n            }, !0)), M && j.current && r) {\n                let W = Math.min(q() + O * (1 - q()), 1), de = 8 - O * 8, Pe = Math.max(0, 14 - O * 14);\n                y(M, {\n                    borderRadius: `${de}px`,\n                    transform: R(f) ? `scale(${W}) translate3d(0, ${Pe}px, 0)` : `scale(${W}) translate3d(${Pe}px, 0, 0)`,\n                    transition: \"none\"\n                }, !0);\n            }\n            if (!s) {\n                let W = D * c;\n                y(l.current, {\n                    transform: R(f) ? `translate3d(0, ${W}px, 0)` : `translate3d(${W}px, 0, 0)`\n                });\n            }\n        }\n    }\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>()=>{\n            ce(!1), lt();\n        }, []), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        var c;\n        function i() {\n            var E;\n            if (!l.current) return;\n            let w = document.activeElement;\n            if (ge(w) || _.current) {\n                let D = ((E = window.visualViewport) == null ? void 0 : E.height) || 0, M = window.innerHeight - D, O = l.current.getBoundingClientRect().height || 0;\n                he.current || (he.current = O);\n                let re = l.current.getBoundingClientRect().top;\n                if (Math.abs($e.current - M) > 60 && (_.current = !_.current), s && s.length > 0 && ne && te) {\n                    let k = ne[te] || 0;\n                    M += k;\n                }\n                if ($e.current = M, O > D || _.current) {\n                    let k = l.current.getBoundingClientRect().height, W = k;\n                    k > D && (W = D - Je), $ ? l.current.style.height = `${k - Math.max(M, 0)}px` : l.current.style.height = `${Math.max(W, D - re)}px`;\n                } else l.current.style.height = `${he.current}px`;\n                s && s.length > 0 && !_.current ? l.current.style.bottom = \"0px\" : l.current.style.bottom = `${Math.max(M, 0)}px`;\n            }\n        }\n        return (c = window.visualViewport) == null || c.addEventListener(\"resize\", i), ()=>{\n            var w;\n            return (w = window.visualViewport) == null ? void 0 : w.removeEventListener(\"resize\", i);\n        };\n    }, [\n        te,\n        s,\n        ne\n    ]);\n    function X() {\n        l.current && (U == null || U(), y(l.current, {\n            transform: R(f) ? `translate3d(0, ${f === \"bottom\" ? \"100%\" : \"-100%\"}, 0)` : `translate3d(${f === \"right\" ? \"100%\" : \"-100%\"}, 0, 0)`,\n            transition: `transform ${T.DURATION}s cubic-bezier(${T.EASE.join(\",\")})`\n        }), y(j.current, {\n            opacity: \"0\",\n            transition: `opacity ${T.DURATION}s cubic-bezier(${T.EASE.join(\",\")})`\n        }), ce(!1), setTimeout(()=>{\n            N(!1), p(!1);\n        }, 300), setTimeout(()=>{\n            s && Ce(s[0]);\n        }, T.DURATION * 1e3));\n    }\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        if (!g && r) {\n            let i = setTimeout(()=>{\n                ie(document.body);\n            }, 200);\n            return ()=>clearTimeout(i);\n        }\n    }, [\n        g,\n        r\n    ]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        e ? (p(!0), C(!0)) : X();\n    }, [\n        e\n    ]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        P && (n == null || n(g));\n    }, [\n        g\n    ]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        Q(!0);\n    }, []);\n    function Ie() {\n        if (!l.current) return;\n        let i = document.querySelector(\"[vaul-drawer-wrapper]\"), c = ae(l.current, f);\n        y(l.current, {\n            transform: \"translate3d(0, 0, 0)\",\n            transition: `transform ${T.DURATION}s cubic-bezier(${T.EASE.join(\",\")})`\n        }), y(j.current, {\n            transition: `opacity ${T.DURATION}s cubic-bezier(${T.EASE.join(\",\")})`,\n            opacity: \"1\"\n        }), r && c && c > 0 && g && y(i, {\n            borderRadius: `${Ge}px`,\n            overflow: \"hidden\",\n            ...R(f) ? {\n                transform: `scale(${q()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,\n                transformOrigin: \"top\"\n            } : {\n                transform: `scale(${q()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,\n                transformOrigin: \"left\"\n            },\n            transitionProperty: \"transform, border-radius\",\n            transitionDuration: `${T.DURATION}s`,\n            transitionTimingFunction: `cubic-bezier(${T.EASE.join(\",\")})`\n        }, !0);\n    }\n    function ct(i) {\n        var O;\n        if (!Z || !l.current) return;\n        l.current.classList.remove(Qe), ue.current = !1, le(!1), Me.current = new Date;\n        let c = ae(l.current, f);\n        if (!Oe(i.target, !1) || !c || Number.isNaN(c) || pe.current === null) return;\n        let w = Me.current.getTime() - pe.current.getTime(), E = we.current - (R(f) ? i.screenY : i.screenX), D = Math.abs(E) / w;\n        if (D > .05 && (Y(!0), setTimeout(()=>{\n            Y(!1);\n        }, 200)), s) {\n            ot({\n                draggedDistance: E * (f === \"bottom\" || f === \"right\" ? 1 : -1),\n                closeDrawer: X,\n                velocity: D,\n                dismissible: S\n            }), o == null || o(i, !0);\n            return;\n        }\n        if (f === \"bottom\" || f === \"right\" ? E > 0 : E < 0) {\n            Ie(), o == null || o(i, !0);\n            return;\n        }\n        if (D > be) {\n            X(), o == null || o(i, !1);\n            return;\n        }\n        let M = Math.min((O = l.current.getBoundingClientRect().height) != null ? O : 0, window.innerHeight);\n        if (c >= M * H) {\n            X(), o == null || o(i, !1);\n            return;\n        }\n        o == null || o(i, !0), Ie();\n    }\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        g && (y(document.documentElement, {\n            scrollBehavior: \"auto\"\n        }), se.current = new Date, ce(!0));\n    }, [\n        g\n    ]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        var i;\n        if (l.current && A) {\n            let c = (i = l == null ? void 0 : l.current) == null ? void 0 : i.querySelectorAll(\"*\");\n            c == null || c.forEach((w)=>{\n                let E = w;\n                (E.scrollHeight > E.clientHeight || E.scrollWidth > E.clientWidth) && E.classList.add(\"vaul-scrollable\");\n            });\n        }\n    }, [\n        A\n    ]);\n    function ce(i) {\n        let c = document.querySelector(\"[vaul-drawer-wrapper]\");\n        !c || !r || (i ? (y(document.body, {\n            background: document.body.style.backgroundColor || document.body.style.background\n        }), y(document.body, {\n            background: \"black\"\n        }, !0), y(c, {\n            borderRadius: `${Ge}px`,\n            overflow: \"hidden\",\n            ...R(f) ? {\n                transform: `scale(${q()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,\n                transformOrigin: \"top\"\n            } : {\n                transform: `scale(${q()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,\n                transformOrigin: \"left\"\n            },\n            transitionProperty: \"transform, border-radius\",\n            transitionDuration: `${T.DURATION}s`,\n            transitionTimingFunction: `cubic-bezier(${T.EASE.join(\",\")})`\n        })) : (ie(c, \"overflow\"), ie(c, \"transform\"), ie(c, \"borderRadius\"), y(c, {\n            transitionProperty: \"transform, border-radius\",\n            transitionDuration: `${T.DURATION}s`,\n            transitionTimingFunction: `cubic-bezier(${T.EASE.join(\",\")})`\n        })));\n    }\n    function dt(i) {\n        let c = i ? (window.innerWidth - z) / window.innerWidth : 1, w = i ? -z : 0;\n        ve.current && window.clearTimeout(ve.current), y(l.current, {\n            transition: `transform ${T.DURATION}s cubic-bezier(${T.EASE.join(\",\")})`,\n            transform: `scale(${c}) translate3d(0, ${w}px, 0)`\n        }), !i && l.current && (ve.current = setTimeout(()=>{\n            let E = ae(l.current, f);\n            y(l.current, {\n                transition: \"none\",\n                transform: R(f) ? `translate3d(0, ${E}px, 0)` : `translate3d(${E}px, 0, 0)`\n            });\n        }, 500));\n    }\n    function ft(i, c) {\n        if (c < 0) return;\n        let w = R(f) ? window.innerHeight : window.innerWidth, E = (w - z) / w, D = E + c * (1 - E), M = -z + c * z;\n        y(l.current, {\n            transform: R(f) ? `scale(${D}) translate3d(0, ${M}px, 0)` : `scale(${D}) translate3d(${M}px, 0, 0)`,\n            transition: \"none\"\n        });\n    }\n    function mt(i, c) {\n        let w = R(f) ? window.innerHeight : window.innerWidth, E = c ? (w - z) / w : 1, D = c ? -z : 0;\n        c && y(l.current, {\n            transition: `transform ${T.DURATION}s cubic-bezier(${T.EASE.join(\",\")})`,\n            transform: R(f) ? `scale(${E}) translate3d(0, ${D}px, 0)` : `scale(${E}) translate3d(${D}px, 0, 0)`\n        });\n    }\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Root, {\n        modal: I,\n        onOpenChange: (i)=>{\n            if (e !== void 0) {\n                n == null || n(i);\n                return;\n            }\n            i ? (C(!0), p(i)) : X();\n        },\n        open: g\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ee.Provider, {\n        value: {\n            visible: A,\n            activeSnapPoint: rt,\n            snapPoints: s,\n            setActiveSnapPoint: Ce,\n            drawerRef: l,\n            overlayRef: j,\n            scaleBackground: ce,\n            onOpenChange: n,\n            onPress: st,\n            setVisible: N,\n            onRelease: ct,\n            onDrag: ut,\n            dismissible: S,\n            isOpen: g,\n            shouldFade: Ae,\n            closeDrawer: X,\n            onNestedDrag: ft,\n            onNestedOpenChange: dt,\n            onNestedRelease: mt,\n            keyboardIsOpen: _,\n            openProp: e,\n            modal: I,\n            snapPointsOffset: ne,\n            direction: f\n        }\n    }, t));\n}\nvar et = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function({ children: e, ...n }, t) {\n    let { overlayRef: r, snapPoints: a, onRelease: o, shouldFade: s, isOpen: b, visible: H } = fe(), x = He(t, r), S = a && a.length > 0;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Overlay, {\n        onMouseUp: o,\n        ref: x,\n        \"vaul-drawer-visible\": H ? \"true\" : \"false\",\n        \"vaul-overlay\": \"\",\n        \"vaul-snap-points\": b && S ? \"true\" : \"false\",\n        \"vaul-snap-points-overlay\": b && s ? \"true\" : \"false\",\n        ...n\n    });\n});\net.displayName = \"Drawer.Overlay\";\nvar tt = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function({ onOpenAutoFocus: e, onPointerDownOutside: n, onAnimationEnd: t, style: r, ...a }, o) {\n    let { drawerRef: s, onPress: b, onRelease: H, onDrag: x, dismissible: S, keyboardIsOpen: h, snapPointsOffset: d, visible: u, closeDrawer: $, modal: I, openProp: U, onOpenChange: f, setVisible: J, direction: g } = fe(), p = He(o, s);\n    return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        J(!0);\n    }, []), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Content, {\n        onOpenAutoFocus: (v)=>{\n            var C;\n            e ? e(v) : (v.preventDefault(), (C = s.current) == null || C.focus());\n        },\n        onPointerDown: b,\n        onPointerDownOutside: (v)=>{\n            if (n == null || n(v), !I || v.defaultPrevented) {\n                v.preventDefault();\n                return;\n            }\n            h.current && (h.current = !1), v.preventDefault(), f == null || f(!1), !(!S || U !== void 0) && $();\n        },\n        onPointerMove: x,\n        onPointerUp: H,\n        ref: p,\n        style: d && d.length > 0 ? {\n            \"--snap-point-height\": `${d[0]}px`,\n            ...r\n        } : r,\n        ...a,\n        \"vaul-drawer\": \"\",\n        \"vaul-drawer-direction\": g,\n        \"vaul-drawer-visible\": u ? \"true\" : \"false\"\n    });\n});\ntt.displayName = \"Drawer.Content\";\nfunction Mt({ onDrag: e, onOpenChange: n, ...t }) {\n    let { onNestedDrag: r, onNestedOpenChange: a, onNestedRelease: o } = fe();\n    if (!r) throw new Error(\"Drawer.NestedRoot must be placed in another drawer\");\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ze, {\n        nested: !0,\n        onClose: ()=>{\n            a(!1);\n        },\n        onDrag: (s, b)=>{\n            r(s, b), e == null || e(s, b);\n        },\n        onOpenChange: (s)=>{\n            s && a(s), n == null || n(s);\n        },\n        onRelease: o,\n        ...t\n    });\n}\nvar nn = {\n    Root: Ze,\n    NestedRoot: Mt,\n    Content: tt,\n    Overlay: et,\n    Trigger: _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Trigger,\n    Portal: _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Portal,\n    Close: _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Close,\n    Title: _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Title,\n    Description: _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_1__.Description\n};\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YnBhY2s6Ly9hYWNoYXJ5YS1mcm9udGVuZC8uLi9zcmMvaW5kZXgudHN4P2QwZTAiLCJ3ZWJwYWNrOi8vYWFjaGFyeWEtZnJvbnRlbmQvLi4vc3JjL2NvbnRleHQudHM/ZmNhNSIsIndlYnBhY2s6Ly9hYWNoYXJ5YS1mcm9udGVuZC8jc3R5bGUtaW5qZWN0OiNzdHlsZS1pbmplY3Q/NGNlNSIsIndlYnBhY2s6Ly9hYWNoYXJ5YS1mcm9udGVuZC8uLi9zcmMvc3R5bGUuY3NzPzgyYTQiLCJ3ZWJwYWNrOi8vYWFjaGFyeWEtZnJvbnRlbmQvLi4vc3JjL3VzZS1wcmV2ZW50LXNjcm9sbC50cz81NDhlIiwid2VicGFjazovL2FhY2hhcnlhLWZyb250ZW5kLy4uL3NyYy91c2UtY29tcG9zZWQtcmVmcy50cz9mOTE5Iiwid2VicGFjazovL2FhY2hhcnlhLWZyb250ZW5kLy4uL3NyYy91c2UtcG9zaXRpb24tZml4ZWQudHM/MjQ1MSIsIndlYnBhY2s6Ly9hYWNoYXJ5YS1mcm9udGVuZC8uLi9zcmMvdXNlLXNuYXAtcG9pbnRzLnRzP2Q0ZTQiLCJ3ZWJwYWNrOi8vYWFjaGFyeWEtZnJvbnRlbmQvLi4vc3JjL2hlbHBlcnMudHM/NjhmZiIsIndlYnBhY2s6Ly9hYWNoYXJ5YS1mcm9udGVuZC8uLi9zcmMvY29uc3RhbnRzLnRzP2IxM2UiLCJ3ZWJwYWNrOi8vYWFjaGFyeWEtZnJvbnRlbmQvLi4vc3JjL3VzZS1jb250cm9sbGFibGUtc3RhdGUudHM/MWQ5MSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCAqIGFzIERpYWxvZ1ByaW1pdGl2ZSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtZGlhbG9nJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBEcmF3ZXJDb250ZXh0LCB1c2VEcmF3ZXJDb250ZXh0IH0gZnJvbSAnLi9jb250ZXh0JztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IHsgdXNlUHJldmVudFNjcm9sbCwgaXNJbnB1dCwgaXNJT1MgfSBmcm9tICcuL3VzZS1wcmV2ZW50LXNjcm9sbCc7XG5pbXBvcnQgeyB1c2VDb21wb3NlZFJlZnMgfSBmcm9tICcuL3VzZS1jb21wb3NlZC1yZWZzJztcbmltcG9ydCB7IHVzZVBvc2l0aW9uRml4ZWQgfSBmcm9tICcuL3VzZS1wb3NpdGlvbi1maXhlZCc7XG5pbXBvcnQgeyB1c2VTbmFwUG9pbnRzIH0gZnJvbSAnLi91c2Utc25hcC1wb2ludHMnO1xuaW1wb3J0IHsgc2V0LCByZXNldCwgZ2V0VHJhbnNsYXRlLCBkYW1wZW5WYWx1ZSwgaXNWZXJ0aWNhbCB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBUUkFOU0lUSU9OUywgVkVMT0NJVFlfVEhSRVNIT0xEIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5jb25zdCBDTE9TRV9USFJFU0hPTEQgPSAwLjI1O1xuXG5jb25zdCBTQ1JPTExfTE9DS19USU1FT1VUID0gMTAwO1xuXG5jb25zdCBCT1JERVJfUkFESVVTID0gODtcblxuY29uc3QgTkVTVEVEX0RJU1BMQUNFTUVOVCA9IDE2O1xuXG5jb25zdCBXSU5ET1dfVE9QX09GRlNFVCA9IDI2O1xuXG5jb25zdCBEUkFHX0NMQVNTID0gJ3ZhdWwtZHJhZ2dpbmcnO1xuXG5pbnRlcmZhY2UgV2l0aEZhZGVGcm9tUHJvcHMge1xuICBzbmFwUG9pbnRzOiAobnVtYmVyIHwgc3RyaW5nKVtdO1xuICBmYWRlRnJvbUluZGV4OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBXaXRob3V0RmFkZUZyb21Qcm9wcyB7XG4gIHNuYXBQb2ludHM/OiAobnVtYmVyIHwgc3RyaW5nKVtdO1xuICBmYWRlRnJvbUluZGV4PzogbmV2ZXI7XG59XG5cbnR5cGUgRGlhbG9nUHJvcHMgPSB7XG4gIGFjdGl2ZVNuYXBQb2ludD86IG51bWJlciB8IHN0cmluZyB8IG51bGw7XG4gIHNldEFjdGl2ZVNuYXBQb2ludD86IChzbmFwUG9pbnQ6IG51bWJlciB8IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xuICBvcGVuPzogYm9vbGVhbjtcbiAgY2xvc2VUaHJlc2hvbGQ/OiBudW1iZXI7XG4gIG9uT3BlbkNoYW5nZT86IChvcGVuOiBib29sZWFuKSA9PiB2b2lkO1xuICBzaG91bGRTY2FsZUJhY2tncm91bmQ/OiBib29sZWFuO1xuICBzY3JvbGxMb2NrVGltZW91dD86IG51bWJlcjtcbiAgZml4ZWQ/OiBib29sZWFuO1xuICBkaXNtaXNzaWJsZT86IGJvb2xlYW47XG4gIG9uRHJhZz86IChldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PiwgcGVyY2VudGFnZURyYWdnZWQ6IG51bWJlcikgPT4gdm9pZDtcbiAgb25SZWxlYXNlPzogKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQ8SFRNTERpdkVsZW1lbnQ+LCBvcGVuOiBib29sZWFuKSA9PiB2b2lkO1xuICBtb2RhbD86IGJvb2xlYW47XG4gIG5lc3RlZD86IGJvb2xlYW47XG4gIG9uQ2xvc2U/OiAoKSA9PiB2b2lkO1xuICBkaXJlY3Rpb24/OiAndG9wJyB8ICdib3R0b20nIHwgJ2xlZnQnIHwgJ3JpZ2h0JztcbiAgcHJldmVudFNjcm9sbFJlc3RvcmF0aW9uPzogYm9vbGVhbjtcbn0gJiAoV2l0aEZhZGVGcm9tUHJvcHMgfCBXaXRob3V0RmFkZUZyb21Qcm9wcyk7XG5cbmZ1bmN0aW9uIFJvb3Qoe1xuICBvcGVuOiBvcGVuUHJvcCxcbiAgb25PcGVuQ2hhbmdlLFxuICBjaGlsZHJlbixcbiAgc2hvdWxkU2NhbGVCYWNrZ3JvdW5kLFxuICBvbkRyYWc6IG9uRHJhZ1Byb3AsXG4gIG9uUmVsZWFzZTogb25SZWxlYXNlUHJvcCxcbiAgc25hcFBvaW50cyxcbiAgbmVzdGVkID0gZmFsc2UsXG4gIGNsb3NlVGhyZXNob2xkID0gQ0xPU0VfVEhSRVNIT0xELFxuICBzY3JvbGxMb2NrVGltZW91dCA9IFNDUk9MTF9MT0NLX1RJTUVPVVQsXG4gIGRpc21pc3NpYmxlID0gdHJ1ZSxcbiAgZmFkZUZyb21JbmRleCA9IHNuYXBQb2ludHMgJiYgc25hcFBvaW50cy5sZW5ndGggLSAxLFxuICBhY3RpdmVTbmFwUG9pbnQ6IGFjdGl2ZVNuYXBQb2ludFByb3AsXG4gIHNldEFjdGl2ZVNuYXBQb2ludDogc2V0QWN0aXZlU25hcFBvaW50UHJvcCxcbiAgZml4ZWQsXG4gIG1vZGFsID0gdHJ1ZSxcbiAgb25DbG9zZSxcbiAgZGlyZWN0aW9uID0gJ2JvdHRvbScsXG4gIHByZXZlbnRTY3JvbGxSZXN0b3JhdGlvbiA9IHRydWUsXG59OiBEaWFsb2dQcm9wcykge1xuICBjb25zdCBbaXNPcGVuID0gZmFsc2UsIHNldElzT3Blbl0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtoYXNCZWVuT3BlbmVkLCBzZXRIYXNCZWVuT3BlbmVkXSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgLy8gTm90IHZpc2libGUgPSB0cmFuc2xhdGVZKDEwMCUpXG4gIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW21vdW50ZWQsIHNldE1vdW50ZWRdID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbaXNEcmFnZ2luZywgc2V0SXNEcmFnZ2luZ10gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtqdXN0UmVsZWFzZWQsIHNldEp1c3RSZWxlYXNlZF0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IG92ZXJsYXlSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBvcGVuVGltZSA9IFJlYWN0LnVzZVJlZjxEYXRlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGRyYWdTdGFydFRpbWUgPSBSZWFjdC51c2VSZWY8RGF0ZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBkcmFnRW5kVGltZSA9IFJlYWN0LnVzZVJlZjxEYXRlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGxhc3RUaW1lRHJhZ1ByZXZlbnRlZCA9IFJlYWN0LnVzZVJlZjxEYXRlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGlzQWxsb3dlZFRvRHJhZyA9IFJlYWN0LnVzZVJlZjxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IG5lc3RlZE9wZW5DaGFuZ2VUaW1lciA9IFJlYWN0LnVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBwb2ludGVyU3RhcnQgPSBSZWFjdC51c2VSZWYoMCk7XG4gIGNvbnN0IGtleWJvYXJkSXNPcGVuID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgcHJldmlvdXNEaWZmRnJvbUluaXRpYWwgPSBSZWFjdC51c2VSZWYoMCk7XG4gIGNvbnN0IGRyYXdlclJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGRyYXdlckhlaWdodFJlZiA9IFJlYWN0LnVzZVJlZihkcmF3ZXJSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IHx8IDApO1xuICBjb25zdCBpbml0aWFsRHJhd2VySGVpZ2h0ID0gUmVhY3QudXNlUmVmKDApO1xuXG4gIGNvbnN0IG9uU25hcFBvaW50Q2hhbmdlID0gUmVhY3QudXNlQ2FsbGJhY2soKGFjdGl2ZVNuYXBQb2ludEluZGV4OiBudW1iZXIpID0+IHtcbiAgICAvLyBDaGFuZ2Ugb3BlblRpbWUgcmVmIHdoZW4gd2UgcmVhY2ggdGhlIGxhc3Qgc25hcCBwb2ludCB0byBwcmV2ZW50IGRyYWdnaW5nIGZvciA1MDBtcyBpbmNhc2UgaXQncyBzY3JvbGxhYmxlLlxuICAgIGlmIChzbmFwUG9pbnRzICYmIGFjdGl2ZVNuYXBQb2ludEluZGV4ID09PSBzbmFwUG9pbnRzT2Zmc2V0Lmxlbmd0aCAtIDEpIG9wZW5UaW1lLmN1cnJlbnQgPSBuZXcgRGF0ZSgpO1xuICB9LCBbXSk7XG5cbiAgY29uc3Qge1xuICAgIGFjdGl2ZVNuYXBQb2ludCxcbiAgICBhY3RpdmVTbmFwUG9pbnRJbmRleCxcbiAgICBzZXRBY3RpdmVTbmFwUG9pbnQsXG4gICAgb25SZWxlYXNlOiBvblJlbGVhc2VTbmFwUG9pbnRzLFxuICAgIHNuYXBQb2ludHNPZmZzZXQsXG4gICAgb25EcmFnOiBvbkRyYWdTbmFwUG9pbnRzLFxuICAgIHNob3VsZEZhZGUsXG4gICAgZ2V0UGVyY2VudGFnZURyYWdnZWQ6IGdldFNuYXBQb2ludHNQZXJjZW50YWdlRHJhZ2dlZCxcbiAgfSA9IHVzZVNuYXBQb2ludHMoe1xuICAgIHNuYXBQb2ludHMsXG4gICAgYWN0aXZlU25hcFBvaW50UHJvcCxcbiAgICBzZXRBY3RpdmVTbmFwUG9pbnRQcm9wLFxuICAgIGRyYXdlclJlZixcbiAgICBmYWRlRnJvbUluZGV4LFxuICAgIG92ZXJsYXlSZWYsXG4gICAgb25TbmFwUG9pbnRDaGFuZ2UsXG4gICAgZGlyZWN0aW9uLFxuICB9KTtcblxuICB1c2VQcmV2ZW50U2Nyb2xsKHtcbiAgICBpc0Rpc2FibGVkOiAhaXNPcGVuIHx8IGlzRHJhZ2dpbmcgfHwgIW1vZGFsIHx8IGp1c3RSZWxlYXNlZCB8fCAhaGFzQmVlbk9wZW5lZCxcbiAgfSk7XG5cbiAgY29uc3QgeyByZXN0b3JlUG9zaXRpb25TZXR0aW5nIH0gPSB1c2VQb3NpdGlvbkZpeGVkKHtcbiAgICBpc09wZW4sXG4gICAgbW9kYWwsXG4gICAgbmVzdGVkLFxuICAgIGhhc0JlZW5PcGVuZWQsXG4gICAgcHJldmVudFNjcm9sbFJlc3RvcmF0aW9uLFxuICB9KTtcblxuICBmdW5jdGlvbiBnZXRTY2FsZSgpIHtcbiAgICByZXR1cm4gKHdpbmRvdy5pbm5lcldpZHRoIC0gV0lORE9XX1RPUF9PRkZTRVQpIC8gd2luZG93LmlubmVyV2lkdGg7XG4gIH1cblxuICBmdW5jdGlvbiBvblByZXNzKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSB7XG4gICAgaWYgKCFkaXNtaXNzaWJsZSAmJiAhc25hcFBvaW50cykgcmV0dXJuO1xuICAgIGlmIChkcmF3ZXJSZWYuY3VycmVudCAmJiAhZHJhd2VyUmVmLmN1cnJlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpKSByZXR1cm47XG4gICAgZHJhd2VySGVpZ2h0UmVmLmN1cnJlbnQgPSBkcmF3ZXJSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IHx8IDA7XG4gICAgc2V0SXNEcmFnZ2luZyh0cnVlKTtcbiAgICBkcmFnU3RhcnRUaW1lLmN1cnJlbnQgPSBuZXcgRGF0ZSgpO1xuXG4gICAgLy8gaU9TIGRvZXNuJ3QgdHJpZ2dlciBtb3VzZVVwIGFmdGVyIHNjcm9sbGluZyBzbyB3ZSBuZWVkIHRvIGxpc3RlbiB0byB0b3VjaGVkIGluIG9yZGVyIHRvIGRpc2FsbG93IGRyYWdnaW5nXG4gICAgaWYgKGlzSU9TKCkpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICgpID0+IChpc0FsbG93ZWRUb0RyYWcuY3VycmVudCA9IGZhbHNlKSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgICAvLyBFbnN1cmUgd2UgbWFpbnRhaW4gY29ycmVjdCBwb2ludGVyIGNhcHR1cmUgZXZlbiB3aGVuIGdvaW5nIG91dHNpZGUgb2YgdGhlIGRyYXdlclxuICAgIChldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLnNldFBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XG5cbiAgICBwb2ludGVyU3RhcnQuY3VycmVudCA9IGlzVmVydGljYWwoZGlyZWN0aW9uKSA/IGV2ZW50LnNjcmVlblkgOiBldmVudC5zY3JlZW5YO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdWxkRHJhZyhlbDogRXZlbnRUYXJnZXQsIGlzRHJhZ2dpbmdJbkRpcmVjdGlvbjogYm9vbGVhbikge1xuICAgIGxldCBlbGVtZW50ID0gZWwgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgaGlnaGxpZ2h0ZWRUZXh0ID0gd2luZG93LmdldFNlbGVjdGlvbigpPy50b1N0cmluZygpO1xuICAgIGNvbnN0IHN3aXBlQW1vdW50ID0gZHJhd2VyUmVmLmN1cnJlbnQgPyBnZXRUcmFuc2xhdGUoZHJhd2VyUmVmLmN1cnJlbnQsIGRpcmVjdGlvbikgOiBudWxsO1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLXZhdWwtbm8tZHJhZycpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyB8fCBkaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gQWxsb3cgc2Nyb2xsaW5nIHdoZW4gYW5pbWF0aW5nXG4gICAgaWYgKG9wZW5UaW1lLmN1cnJlbnQgJiYgZGF0ZS5nZXRUaW1lKCkgLSBvcGVuVGltZS5jdXJyZW50LmdldFRpbWUoKSA8IDUwMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChzd2lwZUFtb3VudCAhPT0gbnVsbCkge1xuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2JvdHRvbScgPyBzd2lwZUFtb3VudCA+IDAgOiBzd2lwZUFtb3VudCA8IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRG9uJ3QgZHJhZyBpZiB0aGVyZSdzIGhpZ2hsaWdodGVkIHRleHRcbiAgICBpZiAoaGlnaGxpZ2h0ZWRUZXh0ICYmIGhpZ2hsaWdodGVkVGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRGlzYWxsb3cgZHJhZ2dpbmcgaWYgZHJhd2VyIHdhcyBzY3JvbGxlZCB3aXRoaW4gYHNjcm9sbExvY2tUaW1lb3V0YFxuICAgIGlmIChcbiAgICAgIGxhc3RUaW1lRHJhZ1ByZXZlbnRlZC5jdXJyZW50ICYmXG4gICAgICBkYXRlLmdldFRpbWUoKSAtIGxhc3RUaW1lRHJhZ1ByZXZlbnRlZC5jdXJyZW50LmdldFRpbWUoKSA8IHNjcm9sbExvY2tUaW1lb3V0ICYmXG4gICAgICBzd2lwZUFtb3VudCA9PT0gMFxuICAgICkge1xuICAgICAgbGFzdFRpbWVEcmFnUHJldmVudGVkLmN1cnJlbnQgPSBkYXRlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChpc0RyYWdnaW5nSW5EaXJlY3Rpb24pIHtcbiAgICAgIGxhc3RUaW1lRHJhZ1ByZXZlbnRlZC5jdXJyZW50ID0gZGF0ZTtcblxuICAgICAgLy8gV2UgYXJlIGRyYWdnaW5nIGRvd24gc28gd2Ugc2hvdWxkIGFsbG93IHNjcm9sbGluZ1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIEtlZXAgY2xpbWJpbmcgdXAgdGhlIERPTSB0cmVlIGFzIGxvbmcgYXMgdGhlcmUncyBhIHBhcmVudFxuICAgIHdoaWxlIChlbGVtZW50KSB7XG4gICAgICAvLyBDaGVjayBpZiB0aGUgZWxlbWVudCBpcyBzY3JvbGxhYmxlXG4gICAgICBpZiAoZWxlbWVudC5zY3JvbGxIZWlnaHQgPiBlbGVtZW50LmNsaWVudEhlaWdodCkge1xuICAgICAgICBpZiAoZWxlbWVudC5zY3JvbGxUb3AgIT09IDApIHtcbiAgICAgICAgICBsYXN0VGltZURyYWdQcmV2ZW50ZWQuY3VycmVudCA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAvLyBUaGUgZWxlbWVudCBpcyBzY3JvbGxhYmxlIGFuZCBub3Qgc2Nyb2xsZWQgdG8gdGhlIHRvcCwgc28gZG9uJ3QgZHJhZ1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgncm9sZScpID09PSAnZGlhbG9nJykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE1vdmUgdXAgdG8gdGhlIHBhcmVudCBlbGVtZW50XG4gICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50O1xuICAgIH1cblxuICAgIC8vIE5vIHNjcm9sbGFibGUgcGFyZW50cyBub3Qgc2Nyb2xsZWQgdG8gdGhlIHRvcCBmb3VuZCwgc28gZHJhZ1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gb25EcmFnKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSB7XG4gICAgaWYgKCFkcmF3ZXJSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBXZSBuZWVkIHRvIGtub3cgaG93IG11Y2ggb2YgdGhlIGRyYXdlciBoYXMgYmVlbiBkcmFnZ2VkIGluIHBlcmNlbnRhZ2VzIHNvIHRoYXQgd2UgY2FuIHRyYW5zZm9ybSBiYWNrZ3JvdW5kIGFjY29yZGluZ2x5XG4gICAgaWYgKGlzRHJhZ2dpbmcpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGlvbk11bHRpcGxpZXIgPSBkaXJlY3Rpb24gPT09ICdib3R0b20nIHx8IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/IDEgOiAtMTtcbiAgICAgIGNvbnN0IGRyYWdnZWREaXN0YW5jZSA9XG4gICAgICAgIChwb2ludGVyU3RhcnQuY3VycmVudCAtIChpc1ZlcnRpY2FsKGRpcmVjdGlvbikgPyBldmVudC5zY3JlZW5ZIDogZXZlbnQuc2NyZWVuWCkpICogZGlyZWN0aW9uTXVsdGlwbGllcjtcbiAgICAgIGNvbnN0IGlzRHJhZ2dpbmdJbkRpcmVjdGlvbiA9IGRyYWdnZWREaXN0YW5jZSA+IDA7XG5cbiAgICAgIC8vIERpc2FsbG93IGRyYWdnaW5nIGRvd24gdG8gY2xvc2Ugd2hlbiBmaXJzdCBzbmFwIHBvaW50IGlzIHRoZSBhY3RpdmUgb25lIGFuZCBkaXNtaXNzaWJsZSBwcm9wIGlzIHNldCB0byBmYWxzZS5cbiAgICAgIGlmIChzbmFwUG9pbnRzICYmIGFjdGl2ZVNuYXBQb2ludEluZGV4ID09PSAwICYmICFkaXNtaXNzaWJsZSkgcmV0dXJuO1xuXG4gICAgICBpZiAoIWlzQWxsb3dlZFRvRHJhZy5jdXJyZW50ICYmICFzaG91bGREcmFnKGV2ZW50LnRhcmdldCwgaXNEcmFnZ2luZ0luRGlyZWN0aW9uKSkgcmV0dXJuO1xuICAgICAgZHJhd2VyUmVmLmN1cnJlbnQuY2xhc3NMaXN0LmFkZChEUkFHX0NMQVNTKTtcbiAgICAgIC8vIElmIHNob3VsZERyYWcgZ2F2ZSB0cnVlIG9uY2UgYWZ0ZXIgcHJlc3NpbmcgZG93biBvbiB0aGUgZHJhd2VyLCB3ZSBzZXQgaXNBbGxvd2VkVG9EcmFnIHRvIHRydWUgYW5kIGl0IHdpbGwgcmVtYWluIHRydWUgdW50aWwgd2UgbGV0IGdvLCB0aGVyZSdzIG5vIHJlYXNvbiB0byBkaXNhYmxlIGRyYWdnaW5nIG1pZCB3YXksIGV2ZXIsIGFuZCB0aGF0J3MgdGhlIHNvbHV0aW9uIHRvIGl0XG4gICAgICBpc0FsbG93ZWRUb0RyYWcuY3VycmVudCA9IHRydWU7XG4gICAgICBzZXQoZHJhd2VyUmVmLmN1cnJlbnQsIHtcbiAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnLFxuICAgICAgfSk7XG5cbiAgICAgIHNldChvdmVybGF5UmVmLmN1cnJlbnQsIHtcbiAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChzbmFwUG9pbnRzKSB7XG4gICAgICAgIG9uRHJhZ1NuYXBQb2ludHMoeyBkcmFnZ2VkRGlzdGFuY2UgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJ1biB0aGlzIG9ubHkgaWYgc25hcFBvaW50cyBhcmUgbm90IGRlZmluZWQgb3IgaWYgd2UgYXJlIGF0IHRoZSBsYXN0IHNuYXAgcG9pbnQgKGhpZ2hlc3Qgb25lKVxuICAgICAgaWYgKGlzRHJhZ2dpbmdJbkRpcmVjdGlvbiAmJiAhc25hcFBvaW50cykge1xuICAgICAgICBjb25zdCBkYW1wZW5lZERyYWdnZWREaXN0YW5jZSA9IGRhbXBlblZhbHVlKGRyYWdnZWREaXN0YW5jZSk7XG5cbiAgICAgICAgY29uc3QgdHJhbnNsYXRlVmFsdWUgPSBNYXRoLm1pbihkYW1wZW5lZERyYWdnZWREaXN0YW5jZSAqIC0xLCAwKSAqIGRpcmVjdGlvbk11bHRpcGxpZXI7XG4gICAgICAgIHNldChkcmF3ZXJSZWYuY3VycmVudCwge1xuICAgICAgICAgIHRyYW5zZm9ybTogaXNWZXJ0aWNhbChkaXJlY3Rpb24pXG4gICAgICAgICAgICA/IGB0cmFuc2xhdGUzZCgwLCAke3RyYW5zbGF0ZVZhbHVlfXB4LCAwKWBcbiAgICAgICAgICAgIDogYHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlVmFsdWV9cHgsIDAsIDApYCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gV2UgbmVlZCB0byBjYXB0dXJlIGxhc3QgdGltZSB3aGVuIGRyYWcgd2l0aCBzY3JvbGwgd2FzIHRyaWdnZXJlZCBhbmQgaGF2ZSBhIHRpbWVvdXQgYmV0d2VlblxuICAgICAgY29uc3QgYWJzRHJhZ2dlZERpc3RhbmNlID0gTWF0aC5hYnMoZHJhZ2dlZERpc3RhbmNlKTtcbiAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbdmF1bC1kcmF3ZXItd3JhcHBlcl0nKTtcblxuICAgICAgbGV0IHBlcmNlbnRhZ2VEcmFnZ2VkID0gYWJzRHJhZ2dlZERpc3RhbmNlIC8gZHJhd2VySGVpZ2h0UmVmLmN1cnJlbnQ7XG4gICAgICBjb25zdCBzbmFwUG9pbnRQZXJjZW50YWdlRHJhZ2dlZCA9IGdldFNuYXBQb2ludHNQZXJjZW50YWdlRHJhZ2dlZChhYnNEcmFnZ2VkRGlzdGFuY2UsIGlzRHJhZ2dpbmdJbkRpcmVjdGlvbik7XG5cbiAgICAgIGlmIChzbmFwUG9pbnRQZXJjZW50YWdlRHJhZ2dlZCAhPT0gbnVsbCkge1xuICAgICAgICBwZXJjZW50YWdlRHJhZ2dlZCA9IHNuYXBQb2ludFBlcmNlbnRhZ2VEcmFnZ2VkO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBvcGFjaXR5VmFsdWUgPSAxIC0gcGVyY2VudGFnZURyYWdnZWQ7XG5cbiAgICAgIGlmIChzaG91bGRGYWRlIHx8IChmYWRlRnJvbUluZGV4ICYmIGFjdGl2ZVNuYXBQb2ludEluZGV4ID09PSBmYWRlRnJvbUluZGV4IC0gMSkpIHtcbiAgICAgICAgb25EcmFnUHJvcD8uKGV2ZW50LCBwZXJjZW50YWdlRHJhZ2dlZCk7XG5cbiAgICAgICAgc2V0KFxuICAgICAgICAgIG92ZXJsYXlSZWYuY3VycmVudCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBvcGFjaXR5OiBgJHtvcGFjaXR5VmFsdWV9YCxcbiAgICAgICAgICAgIHRyYW5zaXRpb246ICdub25lJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICh3cmFwcGVyICYmIG92ZXJsYXlSZWYuY3VycmVudCAmJiBzaG91bGRTY2FsZUJhY2tncm91bmQpIHtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHBlcmNlbnRhZ2VEcmFnZ2VkIGFzIGEgZnJhY3Rpb24gKDAgdG8gMSlcbiAgICAgICAgY29uc3Qgc2NhbGVWYWx1ZSA9IE1hdGgubWluKGdldFNjYWxlKCkgKyBwZXJjZW50YWdlRHJhZ2dlZCAqICgxIC0gZ2V0U2NhbGUoKSksIDEpO1xuICAgICAgICBjb25zdCBib3JkZXJSYWRpdXNWYWx1ZSA9IDggLSBwZXJjZW50YWdlRHJhZ2dlZCAqIDg7XG5cbiAgICAgICAgY29uc3QgdHJhbnNsYXRlVmFsdWUgPSBNYXRoLm1heCgwLCAxNCAtIHBlcmNlbnRhZ2VEcmFnZ2VkICogMTQpO1xuXG4gICAgICAgIHNldChcbiAgICAgICAgICB3cmFwcGVyLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogYCR7Ym9yZGVyUmFkaXVzVmFsdWV9cHhgLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBpc1ZlcnRpY2FsKGRpcmVjdGlvbilcbiAgICAgICAgICAgICAgPyBgc2NhbGUoJHtzY2FsZVZhbHVlfSkgdHJhbnNsYXRlM2QoMCwgJHt0cmFuc2xhdGVWYWx1ZX1weCwgMClgXG4gICAgICAgICAgICAgIDogYHNjYWxlKCR7c2NhbGVWYWx1ZX0pIHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlVmFsdWV9cHgsIDAsIDApYCxcbiAgICAgICAgICAgIHRyYW5zaXRpb246ICdub25lJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICghc25hcFBvaW50cykge1xuICAgICAgICBjb25zdCB0cmFuc2xhdGVWYWx1ZSA9IGFic0RyYWdnZWREaXN0YW5jZSAqIGRpcmVjdGlvbk11bHRpcGxpZXI7XG5cbiAgICAgICAgc2V0KGRyYXdlclJlZi5jdXJyZW50LCB7XG4gICAgICAgICAgdHJhbnNmb3JtOiBpc1ZlcnRpY2FsKGRpcmVjdGlvbilcbiAgICAgICAgICAgID8gYHRyYW5zbGF0ZTNkKDAsICR7dHJhbnNsYXRlVmFsdWV9cHgsIDApYFxuICAgICAgICAgICAgOiBgdHJhbnNsYXRlM2QoJHt0cmFuc2xhdGVWYWx1ZX1weCwgMCwgMClgLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzY2FsZUJhY2tncm91bmQoZmFsc2UpO1xuICAgICAgcmVzdG9yZVBvc2l0aW9uU2V0dGluZygpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIG9uVmlzdWFsVmlld3BvcnRDaGFuZ2UoKSB7XG4gICAgICBpZiAoIWRyYXdlclJlZi5jdXJyZW50KSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmIChpc0lucHV0KGZvY3VzZWRFbGVtZW50KSB8fCBrZXlib2FyZElzT3Blbi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IHZpc3VhbFZpZXdwb3J0SGVpZ2h0ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0Py5oZWlnaHQgfHwgMDtcbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgaGVpZ2h0IG9mIHRoZSBrZXlib2FyZFxuICAgICAgICBsZXQgZGlmZkZyb21Jbml0aWFsID0gd2luZG93LmlubmVySGVpZ2h0IC0gdmlzdWFsVmlld3BvcnRIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGRyYXdlckhlaWdodCA9IGRyYXdlclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCB8fCAwO1xuICAgICAgICBpZiAoIWluaXRpYWxEcmF3ZXJIZWlnaHQuY3VycmVudCkge1xuICAgICAgICAgIGluaXRpYWxEcmF3ZXJIZWlnaHQuY3VycmVudCA9IGRyYXdlckhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvZmZzZXRGcm9tVG9wID0gZHJhd2VyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuXG4gICAgICAgIC8vIHZpc3VhbFZpZXdwb3J0IGhlaWdodCBtYXkgY2hhbmdlIGR1ZSB0byBzb21lIHN1YnRsZSBjaGFuZ2VzIHRvIHRoZSBrZXlib2FyZC4gQ2hlY2tpbmcgaWYgdGhlIGhlaWdodCBjaGFuZ2VkIGJ5IDYwIG9yIG1vcmUgd2lsbCBtYWtlIHN1cmUgdGhhdCB0aGV5IGtleWJvYXJkIHJlYWxseSBjaGFuZ2VkIGl0cyBvcGVuIHN0YXRlLlxuICAgICAgICBpZiAoTWF0aC5hYnMocHJldmlvdXNEaWZmRnJvbUluaXRpYWwuY3VycmVudCAtIGRpZmZGcm9tSW5pdGlhbCkgPiA2MCkge1xuICAgICAgICAgIGtleWJvYXJkSXNPcGVuLmN1cnJlbnQgPSAha2V5Ym9hcmRJc09wZW4uY3VycmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzbmFwUG9pbnRzICYmIHNuYXBQb2ludHMubGVuZ3RoID4gMCAmJiBzbmFwUG9pbnRzT2Zmc2V0ICYmIGFjdGl2ZVNuYXBQb2ludEluZGV4KSB7XG4gICAgICAgICAgY29uc3QgYWN0aXZlU25hcFBvaW50SGVpZ2h0ID0gc25hcFBvaW50c09mZnNldFthY3RpdmVTbmFwUG9pbnRJbmRleF0gfHwgMDtcbiAgICAgICAgICBkaWZmRnJvbUluaXRpYWwgKz0gYWN0aXZlU25hcFBvaW50SGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJldmlvdXNEaWZmRnJvbUluaXRpYWwuY3VycmVudCA9IGRpZmZGcm9tSW5pdGlhbDtcbiAgICAgICAgLy8gV2UgZG9uJ3QgaGF2ZSB0byBjaGFuZ2UgdGhlIGhlaWdodCBpZiB0aGUgaW5wdXQgaXMgaW4gdmlldywgd2hlbiB3ZSBhcmUgaGVyZSB3ZSBhcmUgaW4gdGhlIG9wZW5lZCBrZXlib2FyZCBzdGF0ZSBzbyB3ZSBjYW4gY29ycmVjdGx5IGNoZWNrIGlmIHRoZSBpbnB1dCBpcyBpbiB2aWV3XG4gICAgICAgIGlmIChkcmF3ZXJIZWlnaHQgPiB2aXN1YWxWaWV3cG9ydEhlaWdodCB8fCBrZXlib2FyZElzT3Blbi5jdXJyZW50KSB7XG4gICAgICAgICAgY29uc3QgaGVpZ2h0ID0gZHJhd2VyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgICAgIGxldCBuZXdEcmF3ZXJIZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICBpZiAoaGVpZ2h0ID4gdmlzdWFsVmlld3BvcnRIZWlnaHQpIHtcbiAgICAgICAgICAgIG5ld0RyYXdlckhlaWdodCA9IHZpc3VhbFZpZXdwb3J0SGVpZ2h0IC0gV0lORE9XX1RPUF9PRkZTRVQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFdoZW4gZml4ZWQsIGRvbid0IG1vdmUgdGhlIGRyYXdlciB1cHdhcmRzIGlmIHRoZXJlJ3Mgc3BhY2UsIGJ1dCByYXRoZXIgb25seSBjaGFuZ2UgaXQncyBoZWlnaHQgc28gaXQncyBmdWxseSBzY3JvbGxhYmxlIHdoZW4gdGhlIGtleWJvYXJkIGlzIG9wZW5cbiAgICAgICAgICBpZiAoZml4ZWQpIHtcbiAgICAgICAgICAgIGRyYXdlclJlZi5jdXJyZW50LnN0eWxlLmhlaWdodCA9IGAke2hlaWdodCAtIE1hdGgubWF4KGRpZmZGcm9tSW5pdGlhbCwgMCl9cHhgO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkcmF3ZXJSZWYuY3VycmVudC5zdHlsZS5oZWlnaHQgPSBgJHtNYXRoLm1heChuZXdEcmF3ZXJIZWlnaHQsIHZpc3VhbFZpZXdwb3J0SGVpZ2h0IC0gb2Zmc2V0RnJvbVRvcCl9cHhgO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkcmF3ZXJSZWYuY3VycmVudC5zdHlsZS5oZWlnaHQgPSBgJHtpbml0aWFsRHJhd2VySGVpZ2h0LmN1cnJlbnR9cHhgO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNuYXBQb2ludHMgJiYgc25hcFBvaW50cy5sZW5ndGggPiAwICYmICFrZXlib2FyZElzT3Blbi5jdXJyZW50KSB7XG4gICAgICAgICAgZHJhd2VyUmVmLmN1cnJlbnQuc3R5bGUuYm90dG9tID0gYDBweGA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTmVnYXRpdmUgYm90dG9tIHZhbHVlIHdvdWxkIG5ldmVyIG1ha2Ugc2Vuc2VcbiAgICAgICAgICBkcmF3ZXJSZWYuY3VycmVudC5zdHlsZS5ib3R0b20gPSBgJHtNYXRoLm1heChkaWZmRnJvbUluaXRpYWwsIDApfXB4YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHdpbmRvdy52aXN1YWxWaWV3cG9ydD8uYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25WaXN1YWxWaWV3cG9ydENoYW5nZSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy52aXN1YWxWaWV3cG9ydD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25WaXN1YWxWaWV3cG9ydENoYW5nZSk7XG4gIH0sIFthY3RpdmVTbmFwUG9pbnRJbmRleCwgc25hcFBvaW50cywgc25hcFBvaW50c09mZnNldF0pO1xuXG4gIGZ1bmN0aW9uIGNsb3NlRHJhd2VyKCkge1xuICAgIGlmICghZHJhd2VyUmVmLmN1cnJlbnQpIHJldHVybjtcblxuICAgIG9uQ2xvc2U/LigpO1xuICAgIHNldChkcmF3ZXJSZWYuY3VycmVudCwge1xuICAgICAgdHJhbnNmb3JtOiBpc1ZlcnRpY2FsKGRpcmVjdGlvbilcbiAgICAgICAgPyBgdHJhbnNsYXRlM2QoMCwgJHtkaXJlY3Rpb24gPT09ICdib3R0b20nID8gJzEwMCUnIDogJy0xMDAlJ30sIDApYFxuICAgICAgICA6IGB0cmFuc2xhdGUzZCgke2RpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/ICcxMDAlJyA6ICctMTAwJSd9LCAwLCAwKWAsXG4gICAgICB0cmFuc2l0aW9uOiBgdHJhbnNmb3JtICR7VFJBTlNJVElPTlMuRFVSQVRJT059cyBjdWJpYy1iZXppZXIoJHtUUkFOU0lUSU9OUy5FQVNFLmpvaW4oJywnKX0pYCxcbiAgICB9KTtcblxuICAgIHNldChvdmVybGF5UmVmLmN1cnJlbnQsIHtcbiAgICAgIG9wYWNpdHk6ICcwJyxcbiAgICAgIHRyYW5zaXRpb246IGBvcGFjaXR5ICR7VFJBTlNJVElPTlMuRFVSQVRJT059cyBjdWJpYy1iZXppZXIoJHtUUkFOU0lUSU9OUy5FQVNFLmpvaW4oJywnKX0pYCxcbiAgICB9KTtcblxuICAgIHNjYWxlQmFja2dyb3VuZChmYWxzZSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldFZpc2libGUoZmFsc2UpO1xuICAgICAgc2V0SXNPcGVuKGZhbHNlKTtcbiAgICB9LCAzMDApO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvLyByZXNldChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICdzY3JvbGxCZWhhdmlvcicpO1xuICAgICAgaWYgKHNuYXBQb2ludHMpIHtcbiAgICAgICAgc2V0QWN0aXZlU25hcFBvaW50KHNuYXBQb2ludHNbMF0pO1xuICAgICAgfVxuICAgIH0sIFRSQU5TSVRJT05TLkRVUkFUSU9OICogMTAwMCk7IC8vIHNlY29uZHMgdG8gbXNcbiAgfVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc09wZW4gJiYgc2hvdWxkU2NhbGVCYWNrZ3JvdW5kKSB7XG4gICAgICAvLyBDYW4ndCB1c2UgYG9uQW5pbWF0aW9uRW5kYCBhcyB0aGUgY29tcG9uZW50IHdpbGwgYmUgaW52aXNpYmxlIGJ5IHRoZW5cbiAgICAgIGNvbnN0IGlkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHJlc2V0KGRvY3VtZW50LmJvZHkpO1xuICAgICAgfSwgMjAwKTtcblxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dChpZCk7XG4gICAgfVxuICB9LCBbaXNPcGVuLCBzaG91bGRTY2FsZUJhY2tncm91bmRdKTtcblxuICAvLyBUaGlzIGNhbiBiZSBkb25lIG11Y2ggYmV0dGVyXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG9wZW5Qcm9wKSB7XG4gICAgICBzZXRJc09wZW4odHJ1ZSk7XG4gICAgICBzZXRIYXNCZWVuT3BlbmVkKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbG9zZURyYXdlcigpO1xuICAgIH1cbiAgfSwgW29wZW5Qcm9wXSk7XG5cbiAgLy8gVGhpcyBjYW4gYmUgZG9uZSBtdWNoIGJldHRlclxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtb3VudGVkKSB7XG4gICAgICBvbk9wZW5DaGFuZ2U/Lihpc09wZW4pO1xuICAgIH1cbiAgfSwgW2lzT3Blbl0pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0TW91bnRlZCh0cnVlKTtcbiAgfSwgW10pO1xuXG4gIGZ1bmN0aW9uIHJlc2V0RHJhd2VyKCkge1xuICAgIGlmICghZHJhd2VyUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW3ZhdWwtZHJhd2VyLXdyYXBwZXJdJyk7XG4gICAgY29uc3QgY3VycmVudFN3aXBlQW1vdW50ID0gZ2V0VHJhbnNsYXRlKGRyYXdlclJlZi5jdXJyZW50LCBkaXJlY3Rpb24pO1xuXG4gICAgc2V0KGRyYXdlclJlZi5jdXJyZW50LCB7XG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwLCAwLCAwKScsXG4gICAgICB0cmFuc2l0aW9uOiBgdHJhbnNmb3JtICR7VFJBTlNJVElPTlMuRFVSQVRJT059cyBjdWJpYy1iZXppZXIoJHtUUkFOU0lUSU9OUy5FQVNFLmpvaW4oJywnKX0pYCxcbiAgICB9KTtcblxuICAgIHNldChvdmVybGF5UmVmLmN1cnJlbnQsIHtcbiAgICAgIHRyYW5zaXRpb246IGBvcGFjaXR5ICR7VFJBTlNJVElPTlMuRFVSQVRJT059cyBjdWJpYy1iZXppZXIoJHtUUkFOU0lUSU9OUy5FQVNFLmpvaW4oJywnKX0pYCxcbiAgICAgIG9wYWNpdHk6ICcxJyxcbiAgICB9KTtcblxuICAgIC8vIERvbid0IHJlc2V0IGJhY2tncm91bmQgaWYgc3dpcGVkIHVwd2FyZHNcbiAgICBpZiAoc2hvdWxkU2NhbGVCYWNrZ3JvdW5kICYmIGN1cnJlbnRTd2lwZUFtb3VudCAmJiBjdXJyZW50U3dpcGVBbW91bnQgPiAwICYmIGlzT3Blbikge1xuICAgICAgc2V0KFxuICAgICAgICB3cmFwcGVyLFxuICAgICAgICB7XG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiBgJHtCT1JERVJfUkFESVVTfXB4YCxcbiAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgICAgLi4uKGlzVmVydGljYWwoZGlyZWN0aW9uKVxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgc2NhbGUoJHtnZXRTY2FsZSgpfSkgdHJhbnNsYXRlM2QoMCwgY2FsYyhlbnYoc2FmZS1hcmVhLWluc2V0LXRvcCkgKyAxNHB4KSwgMClgLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ3RvcCcsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHNjYWxlKCR7Z2V0U2NhbGUoKX0pIHRyYW5zbGF0ZTNkKGNhbGMoZW52KHNhZmUtYXJlYS1pbnNldC10b3ApICsgMTRweCksIDAsIDApYCxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICdsZWZ0JyxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgdHJhbnNpdGlvblByb3BlcnR5OiAndHJhbnNmb3JtLCBib3JkZXItcmFkaXVzJyxcbiAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IGAke1RSQU5TSVRJT05TLkRVUkFUSU9OfXNgLFxuICAgICAgICAgIHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbjogYGN1YmljLWJlemllcigke1RSQU5TSVRJT05TLkVBU0Uuam9pbignLCcpfSlgLFxuICAgICAgICB9LFxuICAgICAgICB0cnVlLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblJlbGVhc2UoZXZlbnQ6IFJlYWN0LlBvaW50ZXJFdmVudDxIVE1MRGl2RWxlbWVudD4pIHtcbiAgICBpZiAoIWlzRHJhZ2dpbmcgfHwgIWRyYXdlclJlZi5jdXJyZW50KSByZXR1cm47XG5cbiAgICBkcmF3ZXJSZWYuY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKERSQUdfQ0xBU1MpO1xuICAgIGlzQWxsb3dlZFRvRHJhZy5jdXJyZW50ID0gZmFsc2U7XG4gICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XG4gICAgZHJhZ0VuZFRpbWUuY3VycmVudCA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3Qgc3dpcGVBbW91bnQgPSBnZXRUcmFuc2xhdGUoZHJhd2VyUmVmLmN1cnJlbnQsIGRpcmVjdGlvbik7XG5cbiAgICBpZiAoIXNob3VsZERyYWcoZXZlbnQudGFyZ2V0LCBmYWxzZSkgfHwgIXN3aXBlQW1vdW50IHx8IE51bWJlci5pc05hTihzd2lwZUFtb3VudCkpIHJldHVybjtcblxuICAgIGlmIChkcmFnU3RhcnRUaW1lLmN1cnJlbnQgPT09IG51bGwpIHJldHVybjtcblxuICAgIGNvbnN0IHRpbWVUYWtlbiA9IGRyYWdFbmRUaW1lLmN1cnJlbnQuZ2V0VGltZSgpIC0gZHJhZ1N0YXJ0VGltZS5jdXJyZW50LmdldFRpbWUoKTtcbiAgICBjb25zdCBkaXN0TW92ZWQgPSBwb2ludGVyU3RhcnQuY3VycmVudCAtIChpc1ZlcnRpY2FsKGRpcmVjdGlvbikgPyBldmVudC5zY3JlZW5ZIDogZXZlbnQuc2NyZWVuWCk7XG4gICAgY29uc3QgdmVsb2NpdHkgPSBNYXRoLmFicyhkaXN0TW92ZWQpIC8gdGltZVRha2VuO1xuXG4gICAgaWYgKHZlbG9jaXR5ID4gMC4wNSkge1xuICAgICAgLy8gYGp1c3RSZWxlYXNlZGAgaXMgbmVlZGVkIHRvIHByZXZlbnQgdGhlIGRyYXdlciBmcm9tIGZvY3VzaW5nIG9uIGFuIGlucHV0IHdoZW4gdGhlIGRyYWcgZW5kcywgYXMgaXQncyBub3QgdGhlIGludGVudCBtb3N0IG9mIHRoZSB0aW1lLlxuICAgICAgc2V0SnVzdFJlbGVhc2VkKHRydWUpO1xuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0SnVzdFJlbGVhc2VkKGZhbHNlKTtcbiAgICAgIH0sIDIwMCk7XG4gICAgfVxuXG4gICAgaWYgKHNuYXBQb2ludHMpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGlvbk11bHRpcGxpZXIgPSBkaXJlY3Rpb24gPT09ICdib3R0b20nIHx8IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/IDEgOiAtMTtcbiAgICAgIG9uUmVsZWFzZVNuYXBQb2ludHMoe1xuICAgICAgICBkcmFnZ2VkRGlzdGFuY2U6IGRpc3RNb3ZlZCAqIGRpcmVjdGlvbk11bHRpcGxpZXIsXG4gICAgICAgIGNsb3NlRHJhd2VyLFxuICAgICAgICB2ZWxvY2l0eSxcbiAgICAgICAgZGlzbWlzc2libGUsXG4gICAgICB9KTtcbiAgICAgIG9uUmVsZWFzZVByb3A/LihldmVudCwgdHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTW92ZWQgdXB3YXJkcywgZG9uJ3QgZG8gYW55dGhpbmdcbiAgICBpZiAoZGlyZWN0aW9uID09PSAnYm90dG9tJyB8fCBkaXJlY3Rpb24gPT09ICdyaWdodCcgPyBkaXN0TW92ZWQgPiAwIDogZGlzdE1vdmVkIDwgMCkge1xuICAgICAgcmVzZXREcmF3ZXIoKTtcbiAgICAgIG9uUmVsZWFzZVByb3A/LihldmVudCwgdHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHZlbG9jaXR5ID4gVkVMT0NJVFlfVEhSRVNIT0xEKSB7XG4gICAgICBjbG9zZURyYXdlcigpO1xuICAgICAgb25SZWxlYXNlUHJvcD8uKGV2ZW50LCBmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdmlzaWJsZURyYXdlckhlaWdodCA9IE1hdGgubWluKGRyYXdlclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCA/PyAwLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuXG4gICAgaWYgKHN3aXBlQW1vdW50ID49IHZpc2libGVEcmF3ZXJIZWlnaHQgKiBjbG9zZVRocmVzaG9sZCkge1xuICAgICAgY2xvc2VEcmF3ZXIoKTtcbiAgICAgIG9uUmVsZWFzZVByb3A/LihldmVudCwgZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG9uUmVsZWFzZVByb3A/LihldmVudCwgdHJ1ZSk7XG4gICAgcmVzZXREcmF3ZXIoKTtcbiAgfVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gVHJpZ2dlciBlbnRlciBhbmltYXRpb24gd2l0aG91dCB1c2luZyBDU1MgYW5pbWF0aW9uXG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgc2V0KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge1xuICAgICAgICBzY3JvbGxCZWhhdmlvcjogJ2F1dG8nLFxuICAgICAgfSk7XG5cbiAgICAgIG9wZW5UaW1lLmN1cnJlbnQgPSBuZXcgRGF0ZSgpO1xuICAgICAgc2NhbGVCYWNrZ3JvdW5kKHRydWUpO1xuICAgIH1cbiAgfSwgW2lzT3Blbl0pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRyYXdlclJlZi5jdXJyZW50ICYmIHZpc2libGUpIHtcbiAgICAgIC8vIEZpbmQgYWxsIHNjcm9sbGFibGUgZWxlbWVudHMgaW5zaWRlIG91ciBkcmF3ZXIgYW5kIGFzc2lnbiBhIGNsYXNzIHRvIGl0IHNvIHRoYXQgd2UgY2FuIGRpc2FibGUgb3ZlcmZsb3cgd2hlbiBkcmFnZ2luZyB0byBwcmV2ZW50IHBvaW50ZXJtb3ZlIG5vdCBiZWluZyBjYXB0dXJlZFxuICAgICAgY29uc3QgY2hpbGRyZW4gPSBkcmF3ZXJSZWY/LmN1cnJlbnQ/LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKTtcbiAgICAgIGNoaWxkcmVuPy5mb3JFYWNoKChjaGlsZDogRWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCBodG1sQ2hpbGQgPSBjaGlsZCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKGh0bWxDaGlsZC5zY3JvbGxIZWlnaHQgPiBodG1sQ2hpbGQuY2xpZW50SGVpZ2h0IHx8IGh0bWxDaGlsZC5zY3JvbGxXaWR0aCA+IGh0bWxDaGlsZC5jbGllbnRXaWR0aCkge1xuICAgICAgICAgIGh0bWxDaGlsZC5jbGFzc0xpc3QuYWRkKCd2YXVsLXNjcm9sbGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmlzaWJsZV0pO1xuXG4gIGZ1bmN0aW9uIHNjYWxlQmFja2dyb3VuZChvcGVuOiBib29sZWFuKSB7XG4gICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1t2YXVsLWRyYXdlci13cmFwcGVyXScpO1xuXG4gICAgaWYgKCF3cmFwcGVyIHx8ICFzaG91bGRTY2FsZUJhY2tncm91bmQpIHJldHVybjtcblxuICAgIGlmIChvcGVuKSB7XG4gICAgICAvLyBzZXR0aW5nIG9yaWdpbmFsIHN0eWxlcyBpbml0aWFsbHlcbiAgICAgIHNldChkb2N1bWVudC5ib2R5LCB7XG4gICAgICAgIGJhY2tncm91bmQ6IGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yIHx8IGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZCxcbiAgICAgIH0pO1xuICAgICAgLy8gc2V0dGluZyBib2R5IHN0eWxlcywgd2l0aCBjYWNoZSBpZ25vcmVkLCBzbyB0aGF0IHdlIGNhbiBnZXQgY29ycmVjdCBvcmlnaW5hbCBzdHlsZXMgaW4gcmVzZXRcbiAgICAgIHNldChcbiAgICAgICAgZG9jdW1lbnQuYm9keSxcbiAgICAgICAge1xuICAgICAgICAgIGJhY2tncm91bmQ6ICdibGFjaycsXG4gICAgICAgIH0sXG4gICAgICAgIHRydWUsXG4gICAgICApO1xuXG4gICAgICBzZXQod3JhcHBlciwge1xuICAgICAgICBib3JkZXJSYWRpdXM6IGAke0JPUkRFUl9SQURJVVN9cHhgLFxuICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgIC4uLihpc1ZlcnRpY2FsKGRpcmVjdGlvbilcbiAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgc2NhbGUoJHtnZXRTY2FsZSgpfSkgdHJhbnNsYXRlM2QoMCwgY2FsYyhlbnYoc2FmZS1hcmVhLWluc2V0LXRvcCkgKyAxNHB4KSwgMClgLFxuICAgICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICd0b3AnLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDoge1xuICAgICAgICAgICAgICB0cmFuc2Zvcm06IGBzY2FsZSgke2dldFNjYWxlKCl9KSB0cmFuc2xhdGUzZChjYWxjKGVudihzYWZlLWFyZWEtaW5zZXQtdG9wKSArIDE0cHgpLCAwLCAwKWAsXG4gICAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ2xlZnQnLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIHRyYW5zaXRpb25Qcm9wZXJ0eTogJ3RyYW5zZm9ybSwgYm9yZGVyLXJhZGl1cycsXG4gICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogYCR7VFJBTlNJVElPTlMuRFVSQVRJT059c2AsXG4gICAgICAgIHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbjogYGN1YmljLWJlemllcigke1RSQU5TSVRJT05TLkVBU0Uuam9pbignLCcpfSlgLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEV4aXRcbiAgICAgIHJlc2V0KHdyYXBwZXIsICdvdmVyZmxvdycpO1xuICAgICAgcmVzZXQod3JhcHBlciwgJ3RyYW5zZm9ybScpO1xuICAgICAgcmVzZXQod3JhcHBlciwgJ2JvcmRlclJhZGl1cycpO1xuICAgICAgc2V0KHdyYXBwZXIsIHtcbiAgICAgICAgdHJhbnNpdGlvblByb3BlcnR5OiAndHJhbnNmb3JtLCBib3JkZXItcmFkaXVzJyxcbiAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiBgJHtUUkFOU0lUSU9OUy5EVVJBVElPTn1zYCxcbiAgICAgICAgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uOiBgY3ViaWMtYmV6aWVyKCR7VFJBTlNJVElPTlMuRUFTRS5qb2luKCcsJyl9KWAsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbk5lc3RlZE9wZW5DaGFuZ2UobzogYm9vbGVhbikge1xuICAgIGNvbnN0IHNjYWxlID0gbyA/ICh3aW5kb3cuaW5uZXJXaWR0aCAtIE5FU1RFRF9ESVNQTEFDRU1FTlQpIC8gd2luZG93LmlubmVyV2lkdGggOiAxO1xuICAgIGNvbnN0IHkgPSBvID8gLU5FU1RFRF9ESVNQTEFDRU1FTlQgOiAwO1xuXG4gICAgaWYgKG5lc3RlZE9wZW5DaGFuZ2VUaW1lci5jdXJyZW50KSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KG5lc3RlZE9wZW5DaGFuZ2VUaW1lci5jdXJyZW50KTtcbiAgICB9XG5cbiAgICBzZXQoZHJhd2VyUmVmLmN1cnJlbnQsIHtcbiAgICAgIHRyYW5zaXRpb246IGB0cmFuc2Zvcm0gJHtUUkFOU0lUSU9OUy5EVVJBVElPTn1zIGN1YmljLWJlemllcigke1RSQU5TSVRJT05TLkVBU0Uuam9pbignLCcpfSlgLFxuICAgICAgdHJhbnNmb3JtOiBgc2NhbGUoJHtzY2FsZX0pIHRyYW5zbGF0ZTNkKDAsICR7eX1weCwgMClgLFxuICAgIH0pO1xuXG4gICAgaWYgKCFvICYmIGRyYXdlclJlZi5jdXJyZW50KSB7XG4gICAgICBuZXN0ZWRPcGVuQ2hhbmdlVGltZXIuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCB0cmFuc2xhdGVWYWx1ZSA9IGdldFRyYW5zbGF0ZShkcmF3ZXJSZWYuY3VycmVudCBhcyBIVE1MRWxlbWVudCwgZGlyZWN0aW9uKTtcbiAgICAgICAgc2V0KGRyYXdlclJlZi5jdXJyZW50LCB7XG4gICAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnLFxuICAgICAgICAgIHRyYW5zZm9ybTogaXNWZXJ0aWNhbChkaXJlY3Rpb24pXG4gICAgICAgICAgICA/IGB0cmFuc2xhdGUzZCgwLCAke3RyYW5zbGF0ZVZhbHVlfXB4LCAwKWBcbiAgICAgICAgICAgIDogYHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlVmFsdWV9cHgsIDAsIDApYCxcbiAgICAgICAgfSk7XG4gICAgICB9LCA1MDApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uTmVzdGVkRHJhZyhldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PiwgcGVyY2VudGFnZURyYWdnZWQ6IG51bWJlcikge1xuICAgIGlmIChwZXJjZW50YWdlRHJhZ2dlZCA8IDApIHJldHVybjtcblxuICAgIGNvbnN0IGluaXRpYWxEaW0gPSBpc1ZlcnRpY2FsKGRpcmVjdGlvbikgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBjb25zdCBpbml0aWFsU2NhbGUgPSAoaW5pdGlhbERpbSAtIE5FU1RFRF9ESVNQTEFDRU1FTlQpIC8gaW5pdGlhbERpbTtcbiAgICBjb25zdCBuZXdTY2FsZSA9IGluaXRpYWxTY2FsZSArIHBlcmNlbnRhZ2VEcmFnZ2VkICogKDEgLSBpbml0aWFsU2NhbGUpO1xuICAgIGNvbnN0IG5ld1RyYW5zbGF0ZSA9IC1ORVNURURfRElTUExBQ0VNRU5UICsgcGVyY2VudGFnZURyYWdnZWQgKiBORVNURURfRElTUExBQ0VNRU5UO1xuXG4gICAgc2V0KGRyYXdlclJlZi5jdXJyZW50LCB7XG4gICAgICB0cmFuc2Zvcm06IGlzVmVydGljYWwoZGlyZWN0aW9uKVxuICAgICAgICA/IGBzY2FsZSgke25ld1NjYWxlfSkgdHJhbnNsYXRlM2QoMCwgJHtuZXdUcmFuc2xhdGV9cHgsIDApYFxuICAgICAgICA6IGBzY2FsZSgke25ld1NjYWxlfSkgdHJhbnNsYXRlM2QoJHtuZXdUcmFuc2xhdGV9cHgsIDAsIDApYCxcbiAgICAgIHRyYW5zaXRpb246ICdub25lJyxcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uTmVzdGVkUmVsZWFzZShldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PiwgbzogYm9vbGVhbikge1xuICAgIGNvbnN0IGRpbSA9IGlzVmVydGljYWwoZGlyZWN0aW9uKSA/IHdpbmRvdy5pbm5lckhlaWdodCA6IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIGNvbnN0IHNjYWxlID0gbyA/IChkaW0gLSBORVNURURfRElTUExBQ0VNRU5UKSAvIGRpbSA6IDE7XG4gICAgY29uc3QgdHJhbnNsYXRlID0gbyA/IC1ORVNURURfRElTUExBQ0VNRU5UIDogMDtcblxuICAgIGlmIChvKSB7XG4gICAgICBzZXQoZHJhd2VyUmVmLmN1cnJlbnQsIHtcbiAgICAgICAgdHJhbnNpdGlvbjogYHRyYW5zZm9ybSAke1RSQU5TSVRJT05TLkRVUkFUSU9OfXMgY3ViaWMtYmV6aWVyKCR7VFJBTlNJVElPTlMuRUFTRS5qb2luKCcsJyl9KWAsXG4gICAgICAgIHRyYW5zZm9ybTogaXNWZXJ0aWNhbChkaXJlY3Rpb24pXG4gICAgICAgICAgPyBgc2NhbGUoJHtzY2FsZX0pIHRyYW5zbGF0ZTNkKDAsICR7dHJhbnNsYXRlfXB4LCAwKWBcbiAgICAgICAgICA6IGBzY2FsZSgke3NjYWxlfSkgdHJhbnNsYXRlM2QoJHt0cmFuc2xhdGV9cHgsIDAsIDApYCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPERpYWxvZ1ByaW1pdGl2ZS5Sb290XG4gICAgICBtb2RhbD17bW9kYWx9XG4gICAgICBvbk9wZW5DaGFuZ2U9eyhvOiBib29sZWFuKSA9PiB7XG4gICAgICAgIGlmIChvcGVuUHJvcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgb25PcGVuQ2hhbmdlPy4obyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFvKSB7XG4gICAgICAgICAgY2xvc2VEcmF3ZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRIYXNCZWVuT3BlbmVkKHRydWUpO1xuICAgICAgICAgIHNldElzT3BlbihvKTtcbiAgICAgICAgfVxuICAgICAgfX1cbiAgICAgIG9wZW49e2lzT3Blbn1cbiAgICA+XG4gICAgICA8RHJhd2VyQ29udGV4dC5Qcm92aWRlclxuICAgICAgICB2YWx1ZT17e1xuICAgICAgICAgIHZpc2libGUsXG4gICAgICAgICAgYWN0aXZlU25hcFBvaW50LFxuICAgICAgICAgIHNuYXBQb2ludHMsXG4gICAgICAgICAgc2V0QWN0aXZlU25hcFBvaW50LFxuICAgICAgICAgIGRyYXdlclJlZixcbiAgICAgICAgICBvdmVybGF5UmVmLFxuICAgICAgICAgIHNjYWxlQmFja2dyb3VuZCxcbiAgICAgICAgICBvbk9wZW5DaGFuZ2UsXG4gICAgICAgICAgb25QcmVzcyxcbiAgICAgICAgICBzZXRWaXNpYmxlLFxuICAgICAgICAgIG9uUmVsZWFzZSxcbiAgICAgICAgICBvbkRyYWcsXG4gICAgICAgICAgZGlzbWlzc2libGUsXG4gICAgICAgICAgaXNPcGVuLFxuICAgICAgICAgIHNob3VsZEZhZGUsXG4gICAgICAgICAgY2xvc2VEcmF3ZXIsXG4gICAgICAgICAgb25OZXN0ZWREcmFnLFxuICAgICAgICAgIG9uTmVzdGVkT3BlbkNoYW5nZSxcbiAgICAgICAgICBvbk5lc3RlZFJlbGVhc2UsXG4gICAgICAgICAga2V5Ym9hcmRJc09wZW4sXG4gICAgICAgICAgb3BlblByb3AsXG4gICAgICAgICAgbW9kYWwsXG4gICAgICAgICAgc25hcFBvaW50c09mZnNldCxcbiAgICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvRHJhd2VyQ29udGV4dC5Qcm92aWRlcj5cbiAgICA8L0RpYWxvZ1ByaW1pdGl2ZS5Sb290PlxuICApO1xufVxuXG5jb25zdCBPdmVybGF5ID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MRGl2RWxlbWVudCwgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEaWFsb2dQcmltaXRpdmUuT3ZlcmxheT4+KFxuICBmdW5jdGlvbiAoeyBjaGlsZHJlbiwgLi4ucmVzdCB9LCByZWYpIHtcbiAgICBjb25zdCB7IG92ZXJsYXlSZWYsIHNuYXBQb2ludHMsIG9uUmVsZWFzZSwgc2hvdWxkRmFkZSwgaXNPcGVuLCB2aXNpYmxlIH0gPSB1c2VEcmF3ZXJDb250ZXh0KCk7XG4gICAgY29uc3QgY29tcG9zZWRSZWYgPSB1c2VDb21wb3NlZFJlZnMocmVmLCBvdmVybGF5UmVmKTtcbiAgICBjb25zdCBoYXNTbmFwUG9pbnRzID0gc25hcFBvaW50cyAmJiBzbmFwUG9pbnRzLmxlbmd0aCA+IDA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPERpYWxvZ1ByaW1pdGl2ZS5PdmVybGF5XG4gICAgICAgIG9uTW91c2VVcD17b25SZWxlYXNlfVxuICAgICAgICByZWY9e2NvbXBvc2VkUmVmfVxuICAgICAgICB2YXVsLWRyYXdlci12aXNpYmxlPXt2aXNpYmxlID8gJ3RydWUnIDogJ2ZhbHNlJ31cbiAgICAgICAgdmF1bC1vdmVybGF5PVwiXCJcbiAgICAgICAgdmF1bC1zbmFwLXBvaW50cz17aXNPcGVuICYmIGhhc1NuYXBQb2ludHMgPyAndHJ1ZScgOiAnZmFsc2UnfVxuICAgICAgICB2YXVsLXNuYXAtcG9pbnRzLW92ZXJsYXk9e2lzT3BlbiAmJiBzaG91bGRGYWRlID8gJ3RydWUnIDogJ2ZhbHNlJ31cbiAgICAgICAgey4uLnJlc3R9XG4gICAgICAvPlxuICAgICk7XG4gIH0sXG4pO1xuXG5PdmVybGF5LmRpc3BsYXlOYW1lID0gJ0RyYXdlci5PdmVybGF5JztcblxudHlwZSBDb250ZW50UHJvcHMgPSBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERpYWxvZ1ByaW1pdGl2ZS5Db250ZW50PiAmIHtcbiAgb25BbmltYXRpb25FbmQ/OiAob3BlbjogYm9vbGVhbikgPT4gdm9pZDtcbn07XG5cbmNvbnN0IENvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxEaXZFbGVtZW50LCBDb250ZW50UHJvcHM+KGZ1bmN0aW9uIChcbiAgeyBvbk9wZW5BdXRvRm9jdXMsIG9uUG9pbnRlckRvd25PdXRzaWRlLCBvbkFuaW1hdGlvbkVuZCwgc3R5bGUsIC4uLnJlc3QgfSxcbiAgcmVmLFxuKSB7XG4gIGNvbnN0IHtcbiAgICBkcmF3ZXJSZWYsXG4gICAgb25QcmVzcyxcbiAgICBvblJlbGVhc2UsXG4gICAgb25EcmFnLFxuICAgIGRpc21pc3NpYmxlLFxuICAgIGtleWJvYXJkSXNPcGVuLFxuICAgIHNuYXBQb2ludHNPZmZzZXQsXG4gICAgdmlzaWJsZSxcbiAgICBjbG9zZURyYXdlcixcbiAgICBtb2RhbCxcbiAgICBvcGVuUHJvcCxcbiAgICBvbk9wZW5DaGFuZ2UsXG4gICAgc2V0VmlzaWJsZSxcbiAgICBkaXJlY3Rpb24sXG4gIH0gPSB1c2VEcmF3ZXJDb250ZXh0KCk7XG4gIGNvbnN0IGNvbXBvc2VkUmVmID0gdXNlQ29tcG9zZWRSZWZzKHJlZiwgZHJhd2VyUmVmKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFRyaWdnZXIgZW50ZXIgYW5pbWF0aW9uIHdpdGhvdXQgdXNpbmcgQ1NTIGFuaW1hdGlvblxuICAgIHNldFZpc2libGUodHJ1ZSk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxEaWFsb2dQcmltaXRpdmUuQ29udGVudFxuICAgICAgb25PcGVuQXV0b0ZvY3VzPXsoZSkgPT4ge1xuICAgICAgICBpZiAob25PcGVuQXV0b0ZvY3VzKSB7XG4gICAgICAgICAgb25PcGVuQXV0b0ZvY3VzKGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBkcmF3ZXJSZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfX1cbiAgICAgIG9uUG9pbnRlckRvd249e29uUHJlc3N9XG4gICAgICBvblBvaW50ZXJEb3duT3V0c2lkZT17KGUpID0+IHtcbiAgICAgICAgb25Qb2ludGVyRG93bk91dHNpZGU/LihlKTtcbiAgICAgICAgaWYgKCFtb2RhbCB8fCBlLmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXlib2FyZElzT3Blbi5jdXJyZW50KSB7XG4gICAgICAgICAga2V5Ym9hcmRJc09wZW4uY3VycmVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgb25PcGVuQ2hhbmdlPy4oZmFsc2UpO1xuICAgICAgICBpZiAoIWRpc21pc3NpYmxlIHx8IG9wZW5Qcm9wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjbG9zZURyYXdlcigpO1xuICAgICAgfX1cbiAgICAgIG9uUG9pbnRlck1vdmU9e29uRHJhZ31cbiAgICAgIG9uUG9pbnRlclVwPXtvblJlbGVhc2V9XG4gICAgICByZWY9e2NvbXBvc2VkUmVmfVxuICAgICAgc3R5bGU9e1xuICAgICAgICBzbmFwUG9pbnRzT2Zmc2V0ICYmIHNuYXBQb2ludHNPZmZzZXQubGVuZ3RoID4gMFxuICAgICAgICAgID8gKHtcbiAgICAgICAgICAgICAgJy0tc25hcC1wb2ludC1oZWlnaHQnOiBgJHtzbmFwUG9pbnRzT2Zmc2V0WzBdIX1weGAsXG4gICAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzKVxuICAgICAgICAgIDogc3R5bGVcbiAgICAgIH1cbiAgICAgIHsuLi5yZXN0fVxuICAgICAgdmF1bC1kcmF3ZXI9XCJcIlxuICAgICAgdmF1bC1kcmF3ZXItZGlyZWN0aW9uPXtkaXJlY3Rpb259XG4gICAgICB2YXVsLWRyYXdlci12aXNpYmxlPXt2aXNpYmxlID8gJ3RydWUnIDogJ2ZhbHNlJ31cbiAgICAvPlxuICApO1xufSk7XG5cbkNvbnRlbnQuZGlzcGxheU5hbWUgPSAnRHJhd2VyLkNvbnRlbnQnO1xuXG5mdW5jdGlvbiBOZXN0ZWRSb290KHsgb25EcmFnLCBvbk9wZW5DaGFuZ2UsIC4uLnJlc3QgfTogRGlhbG9nUHJvcHMpIHtcbiAgY29uc3QgeyBvbk5lc3RlZERyYWcsIG9uTmVzdGVkT3BlbkNoYW5nZSwgb25OZXN0ZWRSZWxlYXNlIH0gPSB1c2VEcmF3ZXJDb250ZXh0KCk7XG5cbiAgaWYgKCFvbk5lc3RlZERyYWcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0RyYXdlci5OZXN0ZWRSb290IG11c3QgYmUgcGxhY2VkIGluIGFub3RoZXIgZHJhd2VyJyk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxSb290XG4gICAgICBuZXN0ZWRcbiAgICAgIG9uQ2xvc2U9eygpID0+IHtcbiAgICAgICAgb25OZXN0ZWRPcGVuQ2hhbmdlKGZhbHNlKTtcbiAgICAgIH19XG4gICAgICBvbkRyYWc9eyhlLCBwKSA9PiB7XG4gICAgICAgIG9uTmVzdGVkRHJhZyhlLCBwKTtcbiAgICAgICAgb25EcmFnPy4oZSwgcCk7XG4gICAgICB9fVxuICAgICAgb25PcGVuQ2hhbmdlPXsobykgPT4ge1xuICAgICAgICBpZiAobykge1xuICAgICAgICAgIG9uTmVzdGVkT3BlbkNoYW5nZShvKTtcbiAgICAgICAgfVxuICAgICAgICBvbk9wZW5DaGFuZ2U/LihvKTtcbiAgICAgIH19XG4gICAgICBvblJlbGVhc2U9e29uTmVzdGVkUmVsZWFzZX1cbiAgICAgIHsuLi5yZXN0fVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCBEcmF3ZXIgPSB7XG4gIFJvb3QsXG4gIE5lc3RlZFJvb3QsXG4gIENvbnRlbnQsXG4gIE92ZXJsYXksXG4gIFRyaWdnZXI6IERpYWxvZ1ByaW1pdGl2ZS5UcmlnZ2VyLFxuICBQb3J0YWw6IERpYWxvZ1ByaW1pdGl2ZS5Qb3J0YWwsXG4gIENsb3NlOiBEaWFsb2dQcmltaXRpdmUuQ2xvc2UsXG4gIFRpdGxlOiBEaWFsb2dQcmltaXRpdmUuVGl0bGUsXG4gIERlc2NyaXB0aW9uOiBEaWFsb2dQcmltaXRpdmUuRGVzY3JpcHRpb24sXG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IERyYXdlckRpcmVjdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgRHJhd2VyQ29udGV4dFZhbHVlIHtcbiAgZHJhd2VyUmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQ+O1xuICBvdmVybGF5UmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQ+O1xuICBzY2FsZUJhY2tncm91bmQ6IChvcGVuOiBib29sZWFuKSA9PiB2b2lkO1xuICBvblByZXNzOiAoZXZlbnQ6IFJlYWN0LlBvaW50ZXJFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHZvaWQ7XG4gIG9uUmVsZWFzZTogKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB2b2lkO1xuICBvbkRyYWc6IChldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4gdm9pZDtcbiAgb25OZXN0ZWREcmFnOiAoZXZlbnQ6IFJlYWN0LlBvaW50ZXJFdmVudDxIVE1MRGl2RWxlbWVudD4sIHBlcmNlbnRhZ2VEcmFnZ2VkOiBudW1iZXIpID0+IHZvaWQ7XG4gIG9uTmVzdGVkT3BlbkNoYW5nZTogKG86IGJvb2xlYW4pID0+IHZvaWQ7XG4gIG9uTmVzdGVkUmVsZWFzZTogKGV2ZW50OiBSZWFjdC5Qb2ludGVyRXZlbnQ8SFRNTERpdkVsZW1lbnQ+LCBvcGVuOiBib29sZWFuKSA9PiB2b2lkO1xuICBkaXNtaXNzaWJsZTogYm9vbGVhbjtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBrZXlib2FyZElzT3BlbjogUmVhY3QuTXV0YWJsZVJlZk9iamVjdDxib29sZWFuPjtcbiAgc25hcFBvaW50c09mZnNldDogbnVtYmVyW10gfCBudWxsO1xuICBzbmFwUG9pbnRzPzogKG51bWJlciB8IHN0cmluZylbXSB8IG51bGw7XG4gIG1vZGFsOiBib29sZWFuO1xuICBzaG91bGRGYWRlOiBib29sZWFuO1xuICBhY3RpdmVTbmFwUG9pbnQ/OiBudW1iZXIgfCBzdHJpbmcgfCBudWxsO1xuICBzZXRBY3RpdmVTbmFwUG9pbnQ6IChvOiBudW1iZXIgfCBzdHJpbmcgfCBudWxsKSA9PiB2b2lkO1xuICB2aXNpYmxlOiBib29sZWFuO1xuICBjbG9zZURyYXdlcjogKCkgPT4gdm9pZDtcbiAgc2V0VmlzaWJsZTogKG86IGJvb2xlYW4pID0+IHZvaWQ7XG4gIG9wZW5Qcm9wPzogYm9vbGVhbjtcbiAgb25PcGVuQ2hhbmdlPzogKG86IGJvb2xlYW4pID0+IHZvaWQ7XG4gIGRpcmVjdGlvbj86IERyYXdlckRpcmVjdGlvbjtcbn1cblxuZXhwb3J0IGNvbnN0IERyYXdlckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PERyYXdlckNvbnRleHRWYWx1ZT4oe1xuICBkcmF3ZXJSZWY6IHsgY3VycmVudDogbnVsbCB9LFxuICBvdmVybGF5UmVmOiB7IGN1cnJlbnQ6IG51bGwgfSxcbiAgc2NhbGVCYWNrZ3JvdW5kOiAoKSA9PiB7fSxcbiAgb25QcmVzczogKCkgPT4ge30sXG4gIG9uUmVsZWFzZTogKCkgPT4ge30sXG4gIG9uRHJhZzogKCkgPT4ge30sXG4gIG9uTmVzdGVkRHJhZzogKCkgPT4ge30sXG4gIG9uTmVzdGVkT3BlbkNoYW5nZTogKCkgPT4ge30sXG4gIG9uTmVzdGVkUmVsZWFzZTogKCkgPT4ge30sXG4gIG9wZW5Qcm9wOiB1bmRlZmluZWQsXG4gIGRpc21pc3NpYmxlOiBmYWxzZSxcbiAgaXNPcGVuOiBmYWxzZSxcbiAga2V5Ym9hcmRJc09wZW46IHsgY3VycmVudDogZmFsc2UgfSxcbiAgc25hcFBvaW50c09mZnNldDogbnVsbCxcbiAgc25hcFBvaW50czogbnVsbCxcbiAgbW9kYWw6IGZhbHNlLFxuICBzaG91bGRGYWRlOiBmYWxzZSxcbiAgYWN0aXZlU25hcFBvaW50OiBudWxsLFxuICBvbk9wZW5DaGFuZ2U6ICgpID0+IHt9LFxuICBzZXRBY3RpdmVTbmFwUG9pbnQ6ICgpID0+IHt9LFxuICB2aXNpYmxlOiBmYWxzZSxcbiAgY2xvc2VEcmF3ZXI6ICgpID0+IHt9LFxuICBzZXRWaXNpYmxlOiAoKSA9PiB7fSxcbiAgZGlyZWN0aW9uOiAnYm90dG9tJyxcbn0pO1xuXG5leHBvcnQgY29uc3QgdXNlRHJhd2VyQ29udGV4dCA9ICgpID0+IFJlYWN0LnVzZUNvbnRleHQoRHJhd2VyQ29udGV4dCk7XG4iLCJcbiAgICAgICAgICBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdHlsZUluamVjdChjc3MsIHsgaW5zZXJ0QXQgfSA9IHt9KSB7XG4gICAgICAgICAgICBpZiAoIWNzcyB8fCB0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSByZXR1cm5cbiAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF1cbiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKVxuICAgICAgICAgICAgc3R5bGUudHlwZSA9ICd0ZXh0L2NzcydcbiAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChpbnNlcnRBdCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgICAgaWYgKGhlYWQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBoZWFkLmZpcnN0Q2hpbGQpXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgICAgICAgICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzc1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgIiwiaW1wb3J0IHN0eWxlSW5qZWN0IGZyb20gJyNzdHlsZS1pbmplY3QnO3N0eWxlSW5qZWN0KFwiW3ZhdWwtZHJhd2VyXXt0b3VjaC1hY3Rpb246bm9uZTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuNXMgY3ViaWMtYmV6aWVyKC4zMiwuNzIsMCwxKX1bdmF1bC1kcmF3ZXJdW3ZhdWwtZHJhd2VyLWRpcmVjdGlvbj1ib3R0b21de3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwMCUsMCl9W3ZhdWwtZHJhd2VyXVt2YXVsLWRyYXdlci1kaXJlY3Rpb249dG9wXXt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMTAwJSwwKX1bdmF1bC1kcmF3ZXJdW3ZhdWwtZHJhd2VyLWRpcmVjdGlvbj1sZWZ0XXt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTEwMCUsMCwwKX1bdmF1bC1kcmF3ZXJdW3ZhdWwtZHJhd2VyLWRpcmVjdGlvbj1yaWdodF17dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwMCUsMCwwKX0udmF1bC1kcmFnZ2luZyAudmF1bC1zY3JvbGxhYmxlIFt2YXVsdC1kcmF3ZXItZGlyZWN0aW9uPXRvcF0sLnZhdWwtZHJhZ2dpbmcgLnZhdWwtc2Nyb2xsYWJsZSBbdmF1bHQtZHJhd2VyLWRpcmVjdGlvbj1ib3R0b21de292ZXJmbG93LXk6aGlkZGVuIWltcG9ydGFudH0udmF1bC1kcmFnZ2luZyAudmF1bC1zY3JvbGxhYmxlIFt2YXVsdC1kcmF3ZXItZGlyZWN0aW9uPWxlZnRdLC52YXVsLWRyYWdnaW5nIC52YXVsLXNjcm9sbGFibGUgW3ZhdWx0LWRyYXdlci1kaXJlY3Rpb249cmlnaHRde292ZXJmbG93LXg6aGlkZGVuIWltcG9ydGFudH1bdmF1bC1kcmF3ZXJdW3ZhdWwtZHJhd2VyLXZpc2libGU9dHJ1ZV1bdmF1bC1kcmF3ZXItZGlyZWN0aW9uPXRvcF0sW3ZhdWwtZHJhd2VyXVt2YXVsLWRyYXdlci12aXNpYmxlPXRydWVdW3ZhdWwtZHJhd2VyLWRpcmVjdGlvbj1ib3R0b21de3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLHZhcigtLXNuYXAtcG9pbnQtaGVpZ2h0LCAwKSwwKX1bdmF1bC1kcmF3ZXJdW3ZhdWwtZHJhd2VyLXZpc2libGU9dHJ1ZV1bdmF1bC1kcmF3ZXItZGlyZWN0aW9uPWxlZnRdLFt2YXVsLWRyYXdlcl1bdmF1bC1kcmF3ZXItdmlzaWJsZT10cnVlXVt2YXVsLWRyYXdlci1kaXJlY3Rpb249cmlnaHRde3RyYW5zZm9ybTp0cmFuc2xhdGUzZCh2YXIoLS1zbmFwLXBvaW50LWhlaWdodCwgMCksMCwwKX1bdmF1bC1vdmVybGF5XXtvcGFjaXR5OjA7dHJhbnNpdGlvbjpvcGFjaXR5IC41cyBjdWJpYy1iZXppZXIoLjMyLC43MiwwLDEpfVt2YXVsLW92ZXJsYXldW3ZhdWwtZHJhd2VyLXZpc2libGU9dHJ1ZV17b3BhY2l0eToxfVt2YXVsLWRyYXdlcl06YWZ0ZXJ7Y29udGVudDpcXFwiXFxcIjtwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kOmluaGVyaXQ7YmFja2dyb3VuZC1jb2xvcjppbmhlcml0fVt2YXVsLWRyYXdlcl1bdmF1bC1kcmF3ZXItZGlyZWN0aW9uPXRvcF06YWZ0ZXJ7dG9wOmluaXRpYWw7Ym90dG9tOjEwMCU7bGVmdDowO3JpZ2h0OjA7aGVpZ2h0OjIwMCV9W3ZhdWwtZHJhd2VyXVt2YXVsLWRyYXdlci1kaXJlY3Rpb249Ym90dG9tXTphZnRlcnt0b3A6MTAwJTtib3R0b206aW5pdGlhbDtsZWZ0OjA7cmlnaHQ6MDtoZWlnaHQ6MjAwJX1bdmF1bC1kcmF3ZXJdW3ZhdWwtZHJhd2VyLWRpcmVjdGlvbj1sZWZ0XTphZnRlcntsZWZ0OmluaXRpYWw7cmlnaHQ6MTAwJTt0b3A6MDtib3R0b206MDt3aWR0aDoyMDAlfVt2YXVsLWRyYXdlcl1bdmF1bC1kcmF3ZXItZGlyZWN0aW9uPXJpZ2h0XTphZnRlcntsZWZ0OjEwMCU7cmlnaHQ6aW5pdGlhbDt0b3A6MDtib3R0b206MDt3aWR0aDoyMDAlfVt2YXVsLW92ZXJsYXldW3ZhdWwtc25hcC1wb2ludHM9dHJ1ZV06bm90KFt2YXVsLXNuYXAtcG9pbnRzLW92ZXJsYXk9XFxcInRydWVcXFwiXSk6bm90KFtkYXRhLXN0YXRlPVxcXCJjbG9zZWRcXFwiXSl7b3BhY2l0eTowfVt2YXVsLW92ZXJsYXldW3ZhdWwtc25hcC1wb2ludHMtb3ZlcmxheT10cnVlXTpub3QoW3ZhdWwtZHJhd2VyLXZpc2libGU9XFxcImZhbHNlXFxcIl0pe29wYWNpdHk6MX1Aa2V5ZnJhbWVzIGZha2UtYW5pbWF0aW9ue31AbWVkaWEgKGhvdmVyOiBob3ZlcikgYW5kIChwb2ludGVyOiBmaW5lKXtbdmF1bC1kcmF3ZXJde3VzZXItc2VsZWN0Om5vbmV9fVxcblwiKSIsIi8vIFRoaXMgY29kZSBjb21lcyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9hZG9iZS9yZWFjdC1zcGVjdHJ1bS9ibG9iL21haW4vcGFja2FnZXMvJTQwcmVhY3QtYXJpYS9vdmVybGF5cy9zcmMvdXNlUHJldmVudFNjcm9sbC50c1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGNvbnN0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHVzZUxheW91dEVmZmVjdCA6IHVzZUVmZmVjdDtcblxuaW50ZXJmYWNlIFByZXZlbnRTY3JvbGxPcHRpb25zIHtcbiAgLyoqIFdoZXRoZXIgdGhlIHNjcm9sbCBsb2NrIGlzIGRpc2FibGVkLiAqL1xuICBpc0Rpc2FibGVkPzogYm9vbGVhbjtcbiAgZm9jdXNDYWxsYmFjaz86ICgpID0+IHZvaWQ7XG59XG5cbmZ1bmN0aW9uIGNoYWluKC4uLmNhbGxiYWNrczogYW55W10pOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQge1xuICByZXR1cm4gKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgZm9yIChsZXQgY2FsbGJhY2sgb2YgY2FsbGJhY2tzKSB7XG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNNYWMoKTogYm9vbGVhbiB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiB0ZXN0UGxhdGZvcm0oL15NYWMvKTtcbn1cblxuZnVuY3Rpb24gaXNJUGhvbmUoKTogYm9vbGVhbiB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiB0ZXN0UGxhdGZvcm0oL15pUGhvbmUvKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2FmYXJpKCk6IGJvb2xlYW4gfCB1bmRlZmluZWQge1xuICByZXR1cm4gL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbn1cblxuZnVuY3Rpb24gaXNJUGFkKCk6IGJvb2xlYW4gfCB1bmRlZmluZWQge1xuICByZXR1cm4gKFxuICAgIHRlc3RQbGF0Zm9ybSgvXmlQYWQvKSB8fFxuICAgIC8vIGlQYWRPUyAxMyBsaWVzIGFuZCBzYXlzIGl0J3MgYSBNYWMsIGJ1dCB3ZSBjYW4gZGlzdGluZ3Vpc2ggYnkgZGV0ZWN0aW5nIHRvdWNoIHN1cHBvcnQuXG4gICAgKGlzTWFjKCkgJiYgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMSlcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSU9TKCk6IGJvb2xlYW4gfCB1bmRlZmluZWQge1xuICByZXR1cm4gaXNJUGhvbmUoKSB8fCBpc0lQYWQoKTtcbn1cblxuZnVuY3Rpb24gdGVzdFBsYXRmb3JtKHJlOiBSZWdFeHApOiBib29sZWFuIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5uYXZpZ2F0b3IgIT0gbnVsbCA/IHJlLnRlc3Qod2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSkgOiB1bmRlZmluZWQ7XG59XG5cbi8vIEB0cy1pZ25vcmVcbmNvbnN0IHZpc3VhbFZpZXdwb3J0ID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudmlzdWFsVmlld3BvcnQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Njcm9sbGFibGUobm9kZTogRWxlbWVudCk6IGJvb2xlYW4ge1xuICBsZXQgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgcmV0dXJuIC8oYXV0b3xzY3JvbGwpLy50ZXN0KHN0eWxlLm92ZXJmbG93ICsgc3R5bGUub3ZlcmZsb3dYICsgc3R5bGUub3ZlcmZsb3dZKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudChub2RlOiBFbGVtZW50KTogRWxlbWVudCB7XG4gIGlmIChpc1Njcm9sbGFibGUobm9kZSkpIHtcbiAgICBub2RlID0gbm9kZS5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICB9XG5cbiAgd2hpbGUgKG5vZGUgJiYgIWlzU2Nyb2xsYWJsZShub2RlKSkge1xuICAgIG5vZGUgPSBub2RlLnBhcmVudEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gbm9kZSB8fCBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbn1cblxuLy8gSFRNTCBpbnB1dCB0eXBlcyB0aGF0IGRvIG5vdCBjYXVzZSB0aGUgc29mdHdhcmUga2V5Ym9hcmQgdG8gYXBwZWFyLlxuY29uc3Qgbm9uVGV4dElucHV0VHlwZXMgPSBuZXcgU2V0KFtcbiAgJ2NoZWNrYm94JyxcbiAgJ3JhZGlvJyxcbiAgJ3JhbmdlJyxcbiAgJ2NvbG9yJyxcbiAgJ2ZpbGUnLFxuICAnaW1hZ2UnLFxuICAnYnV0dG9uJyxcbiAgJ3N1Ym1pdCcsXG4gICdyZXNldCcsXG5dKTtcblxuLy8gVGhlIG51bWJlciBvZiBhY3RpdmUgdXNlUHJldmVudFNjcm9sbCBjYWxscy4gVXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciB0byByZXZlcnQgYmFjayB0byB0aGUgb3JpZ2luYWwgcGFnZSBzdHlsZS9zY3JvbGwgcG9zaXRpb25cbmxldCBwcmV2ZW50U2Nyb2xsQ291bnQgPSAwO1xubGV0IHJlc3RvcmU6ICgpID0+IHZvaWQ7XG5cbi8qKlxuICogUHJldmVudHMgc2Nyb2xsaW5nIG9uIHRoZSBkb2N1bWVudCBib2R5IG9uIG1vdW50LCBhbmRcbiAqIHJlc3RvcmVzIGl0IG9uIHVubW91bnQuIEFsc28gZW5zdXJlcyB0aGF0IGNvbnRlbnQgZG9lcyBub3RcbiAqIHNoaWZ0IGR1ZSB0byB0aGUgc2Nyb2xsYmFycyBkaXNhcHBlYXJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VQcmV2ZW50U2Nyb2xsKG9wdGlvbnM6IFByZXZlbnRTY3JvbGxPcHRpb25zID0ge30pIHtcbiAgbGV0IHsgaXNEaXNhYmxlZCB9ID0gb3B0aW9ucztcblxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNEaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHByZXZlbnRTY3JvbGxDb3VudCsrO1xuICAgIGlmIChwcmV2ZW50U2Nyb2xsQ291bnQgPT09IDEpIHtcbiAgICAgIGlmIChpc0lPUygpKSB7XG4gICAgICAgIHJlc3RvcmUgPSBwcmV2ZW50U2Nyb2xsTW9iaWxlU2FmYXJpKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN0b3JlID0gcHJldmVudFNjcm9sbFN0YW5kYXJkKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHByZXZlbnRTY3JvbGxDb3VudC0tO1xuICAgICAgaWYgKHByZXZlbnRTY3JvbGxDb3VudCA9PT0gMCkge1xuICAgICAgICByZXN0b3JlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2lzRGlzYWJsZWRdKTtcbn1cblxuLy8gRm9yIG1vc3QgYnJvd3NlcnMsIGFsbCB3ZSBuZWVkIHRvIGRvIGlzIHNldCBgb3ZlcmZsb3c6IGhpZGRlbmAgb24gdGhlIHJvb3QgZWxlbWVudCwgYW5kXG4vLyBhZGQgc29tZSBwYWRkaW5nIHRvIHByZXZlbnQgdGhlIHBhZ2UgZnJvbSBzaGlmdGluZyB3aGVuIHRoZSBzY3JvbGxiYXIgaXMgaGlkZGVuLlxuZnVuY3Rpb24gcHJldmVudFNjcm9sbFN0YW5kYXJkKCkge1xuICByZXR1cm4gY2hhaW4oXG4gICAgc2V0U3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAncGFkZGluZ1JpZ2h0JywgYCR7d2luZG93LmlubmVyV2lkdGggLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGh9cHhgKSxcbiAgICAvLyBzZXRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICdvdmVyZmxvdycsICdoaWRkZW4nKSxcbiAgKTtcbn1cblxuLy8gTW9iaWxlIFNhZmFyaSBpcyBhIHdob2xlIGRpZmZlcmVudCBiZWFzdC4gRXZlbiB3aXRoIG92ZXJmbG93OiBoaWRkZW4sXG4vLyBpdCBzdGlsbCBzY3JvbGxzIHRoZSBwYWdlIGluIG1hbnkgc2l0dWF0aW9uczpcbi8vXG4vLyAxLiBXaGVuIHRoZSBib3R0b20gdG9vbGJhciBhbmQgYWRkcmVzcyBiYXIgYXJlIGNvbGxhcHNlZCwgcGFnZSBzY3JvbGxpbmcgaXMgYWx3YXlzIGFsbG93ZWQuXG4vLyAyLiBXaGVuIHRoZSBrZXlib2FyZCBpcyB2aXNpYmxlLCB0aGUgdmlld3BvcnQgZG9lcyBub3QgcmVzaXplLiBJbnN0ZWFkLCB0aGUga2V5Ym9hcmQgY292ZXJzIHBhcnQgb2Zcbi8vICAgIGl0LCBzbyBpdCBiZWNvbWVzIHNjcm9sbGFibGUuXG4vLyAzLiBXaGVuIHRhcHBpbmcgb24gYW4gaW5wdXQsIHRoZSBwYWdlIGFsd2F5cyBzY3JvbGxzIHNvIHRoYXQgdGhlIGlucHV0IGlzIGNlbnRlcmVkIGluIHRoZSB2aXN1YWwgdmlld3BvcnQuXG4vLyAgICBUaGlzIG1heSBjYXVzZSBldmVuIGZpeGVkIHBvc2l0aW9uIGVsZW1lbnRzIHRvIHNjcm9sbCBvZmYgdGhlIHNjcmVlbi5cbi8vIDQuIFdoZW4gdXNpbmcgdGhlIG5leHQvcHJldmlvdXMgYnV0dG9ucyBpbiB0aGUga2V5Ym9hcmQgdG8gbmF2aWdhdGUgYmV0d2VlbiBpbnB1dHMsIHRoZSB3aG9sZSBwYWdlIGFsd2F5c1xuLy8gICAgc2Nyb2xscywgZXZlbiBpZiB0aGUgaW5wdXQgaXMgaW5zaWRlIGEgbmVzdGVkIHNjcm9sbGFibGUgZWxlbWVudCB0aGF0IGNvdWxkIGJlIHNjcm9sbGVkIGluc3RlYWQuXG4vL1xuLy8gSW4gb3JkZXIgdG8gd29yayBhcm91bmQgdGhlc2UgY2FzZXMsIGFuZCBwcmV2ZW50IHNjcm9sbGluZyB3aXRob3V0IGphbmtpbmVzcywgd2UgZG8gYSBmZXcgdGhpbmdzOlxuLy9cbi8vIDEuIFByZXZlbnQgZGVmYXVsdCBvbiBgdG91Y2htb3ZlYCBldmVudHMgdGhhdCBhcmUgbm90IGluIGEgc2Nyb2xsYWJsZSBlbGVtZW50LiBUaGlzIHByZXZlbnRzIHRvdWNoIHNjcm9sbGluZ1xuLy8gICAgb24gdGhlIHdpbmRvdy5cbi8vIDIuIFByZXZlbnQgZGVmYXVsdCBvbiBgdG91Y2htb3ZlYCBldmVudHMgaW5zaWRlIGEgc2Nyb2xsYWJsZSBlbGVtZW50IHdoZW4gdGhlIHNjcm9sbCBwb3NpdGlvbiBpcyBhdCB0aGVcbi8vICAgIHRvcCBvciBib3R0b20uIFRoaXMgYXZvaWRzIHRoZSB3aG9sZSBwYWdlIHNjcm9sbGluZyBpbnN0ZWFkLCBidXQgZG9lcyBwcmV2ZW50IG92ZXJzY3JvbGxpbmcuXG4vLyAzLiBQcmV2ZW50IGRlZmF1bHQgb24gYHRvdWNoZW5kYCBldmVudHMgb24gaW5wdXQgZWxlbWVudHMgYW5kIGhhbmRsZSBmb2N1c2luZyB0aGUgZWxlbWVudCBvdXJzZWx2ZXMuXG4vLyA0LiBXaGVuIGZvY3VzaW5nIGFuIGlucHV0LCBhcHBseSBhIHRyYW5zZm9ybSB0byB0cmljayBTYWZhcmkgaW50byB0aGlua2luZyB0aGUgaW5wdXQgaXMgYXQgdGhlIHRvcFxuLy8gICAgb2YgdGhlIHBhZ2UsIHdoaWNoIHByZXZlbnRzIGl0IGZyb20gc2Nyb2xsaW5nIHRoZSBwYWdlLiBBZnRlciB0aGUgaW5wdXQgaXMgZm9jdXNlZCwgc2Nyb2xsIHRoZSBlbGVtZW50XG4vLyAgICBpbnRvIHZpZXcgb3Vyc2VsdmVzLCB3aXRob3V0IHNjcm9sbGluZyB0aGUgd2hvbGUgcGFnZS5cbi8vIDUuIE9mZnNldCB0aGUgYm9keSBieSB0aGUgc2Nyb2xsIHBvc2l0aW9uIHVzaW5nIGEgbmVnYXRpdmUgbWFyZ2luIGFuZCBzY3JvbGwgdG8gdGhlIHRvcC4gVGhpcyBzaG91bGQgYXBwZWFyIHRoZVxuLy8gICAgc2FtZSB2aXN1YWxseSwgYnV0IG1ha2VzIHRoZSBhY3R1YWwgc2Nyb2xsIHBvc2l0aW9uIGFsd2F5cyB6ZXJvLiBUaGlzIGlzIHJlcXVpcmVkIHRvIG1ha2UgYWxsIG9mIHRoZVxuLy8gICAgYWJvdmUgd29yayBvciBTYWZhcmkgd2lsbCBzdGlsbCB0cnkgdG8gc2Nyb2xsIHRoZSBwYWdlIHdoZW4gZm9jdXNpbmcgYW4gaW5wdXQuXG4vLyA2LiBBcyBhIGxhc3QgcmVzb3J0LCBoYW5kbGUgd2luZG93IHNjcm9sbCBldmVudHMsIGFuZCBzY3JvbGwgYmFjayB0byB0aGUgdG9wLiBUaGlzIGNhbiBoYXBwZW4gd2hlbiBhdHRlbXB0aW5nXG4vLyAgICB0byBuYXZpZ2F0ZSB0byBhbiBpbnB1dCB3aXRoIHRoZSBuZXh0L3ByZXZpb3VzIGJ1dHRvbnMgdGhhdCdzIG91dHNpZGUgYSBtb2RhbC5cbmZ1bmN0aW9uIHByZXZlbnRTY3JvbGxNb2JpbGVTYWZhcmkoKSB7XG4gIGxldCBzY3JvbGxhYmxlOiBFbGVtZW50O1xuICBsZXQgbGFzdFkgPSAwO1xuICBsZXQgb25Ub3VjaFN0YXJ0ID0gKGU6IFRvdWNoRXZlbnQpID0+IHtcbiAgICAvLyBTdG9yZSB0aGUgbmVhcmVzdCBzY3JvbGxhYmxlIHBhcmVudCBlbGVtZW50IGZyb20gdGhlIGVsZW1lbnQgdGhhdCB0aGUgdXNlciB0b3VjaGVkLlxuICAgIHNjcm9sbGFibGUgPSBnZXRTY3JvbGxQYXJlbnQoZS50YXJnZXQgYXMgRWxlbWVudCk7XG4gICAgaWYgKHNjcm9sbGFibGUgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBzY3JvbGxhYmxlID09PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGFzdFkgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZO1xuICB9O1xuXG4gIGxldCBvblRvdWNoTW92ZSA9IChlOiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgLy8gUHJldmVudCBzY3JvbGxpbmcgdGhlIHdpbmRvdy5cbiAgICBpZiAoIXNjcm9sbGFibGUgfHwgc2Nyb2xsYWJsZSA9PT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IHNjcm9sbGFibGUgPT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQcmV2ZW50IHNjcm9sbGluZyB1cCB3aGVuIGF0IHRoZSB0b3AgYW5kIHNjcm9sbGluZyBkb3duIHdoZW4gYXQgdGhlIGJvdHRvbVxuICAgIC8vIG9mIGEgbmVzdGVkIHNjcm9sbGFibGUgYXJlYSwgb3RoZXJ3aXNlIG1vYmlsZSBTYWZhcmkgd2lsbCBzdGFydCBzY3JvbGxpbmdcbiAgICAvLyB0aGUgd2luZG93IGluc3RlYWQuIFVuZm9ydHVuYXRlbHksIHRoaXMgZGlzYWJsZXMgYm91bmNlIHNjcm9sbGluZyB3aGVuIGF0XG4gICAgLy8gdGhlIHRvcCBidXQgaXQncyB0aGUgYmVzdCB3ZSBjYW4gZG8uXG4gICAgbGV0IHkgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZO1xuICAgIGxldCBzY3JvbGxUb3AgPSBzY3JvbGxhYmxlLnNjcm9sbFRvcDtcbiAgICBsZXQgYm90dG9tID0gc2Nyb2xsYWJsZS5zY3JvbGxIZWlnaHQgLSBzY3JvbGxhYmxlLmNsaWVudEhlaWdodDtcblxuICAgIGlmIChib3R0b20gPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoKHNjcm9sbFRvcCA8PSAwICYmIHkgPiBsYXN0WSkgfHwgKHNjcm9sbFRvcCA+PSBib3R0b20gJiYgeSA8IGxhc3RZKSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGxhc3RZID0geTtcbiAgfTtcblxuICBsZXQgb25Ub3VjaEVuZCA9IChlOiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgbGV0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuXG4gICAgLy8gQXBwbHkgdGhpcyBjaGFuZ2UgaWYgd2UncmUgbm90IGFscmVhZHkgZm9jdXNlZCBvbiB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICBpZiAoaXNJbnB1dCh0YXJnZXQpICYmIHRhcmdldCAhPT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAvLyBBcHBseSBhIHRyYW5zZm9ybSB0byB0cmljayBTYWZhcmkgaW50byB0aGlua2luZyB0aGUgaW5wdXQgaXMgYXQgdGhlIHRvcCBvZiB0aGUgcGFnZVxuICAgICAgLy8gc28gaXQgZG9lc24ndCB0cnkgdG8gc2Nyb2xsIGl0IGludG8gdmlldy4gV2hlbiB0YXBwaW5nIG9uIGFuIGlucHV0LCB0aGlzIG5lZWRzIHRvXG4gICAgICAvLyBiZSBkb25lIGJlZm9yZSB0aGUgXCJmb2N1c1wiIGV2ZW50LCBzbyB3ZSBoYXZlIHRvIGZvY3VzIHRoZSBlbGVtZW50IG91cnNlbHZlcy5cbiAgICAgIHRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMjAwMHB4KSc7XG4gICAgICB0YXJnZXQuZm9jdXMoKTtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBsZXQgb25Gb2N1cyA9IChlOiBGb2N1c0V2ZW50KSA9PiB7XG4gICAgbGV0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGlmIChpc0lucHV0KHRhcmdldCkpIHtcbiAgICAgIC8vIFRyYW5zZm9ybSBhbHNvIG5lZWRzIHRvIGJlIGFwcGxpZWQgaW4gdGhlIGZvY3VzIGV2ZW50IGluIGNhc2VzIHdoZXJlIGZvY3VzIG1vdmVzXG4gICAgICAvLyBvdGhlciB0aGFuIHRhcHBpbmcgb24gYW4gaW5wdXQgZGlyZWN0bHksIGUuZy4gdGhlIG5leHQvcHJldmlvdXMgYnV0dG9ucyBpbiB0aGVcbiAgICAgIC8vIHNvZnR3YXJlIGtleWJvYXJkLiBJbiB0aGVzZSBjYXNlcywgaXQgc2VlbXMgYXBwbHlpbmcgdGhlIHRyYW5zZm9ybSBpbiB0aGUgZm9jdXMgZXZlbnRcbiAgICAgIC8vIGlzIGdvb2QgZW5vdWdoLCB3aGVyZWFzIHdoZW4gdGFwcGluZyBhbiBpbnB1dCwgaXQgbXVzdCBiZSBkb25lIGJlZm9yZSB0aGUgZm9jdXMgZXZlbnQuIPCfpLfigI3imYLvuI9cbiAgICAgIHRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMjAwMHB4KSc7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICB0YXJnZXQuc3R5bGUudHJhbnNmb3JtID0gJyc7XG5cbiAgICAgICAgLy8gVGhpcyB3aWxsIGhhdmUgcHJldmVudGVkIHRoZSBicm93c2VyIGZyb20gc2Nyb2xsaW5nIHRoZSBmb2N1c2VkIGVsZW1lbnQgaW50byB2aWV3LFxuICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIGRvIHRoaXMgb3Vyc2VsdmVzIGluIGEgd2F5IHRoYXQgZG9lc24ndCBjYXVzZSB0aGUgd2hvbGUgcGFnZSB0byBzY3JvbGwuXG4gICAgICAgIGlmICh2aXN1YWxWaWV3cG9ydCkge1xuICAgICAgICAgIGlmICh2aXN1YWxWaWV3cG9ydC5oZWlnaHQgPCB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBrZXlib2FyZCBpcyBhbHJlYWR5IHZpc2libGUsIGRvIHRoaXMgYWZ0ZXIgb25lIGFkZGl0aW9uYWwgZnJhbWVcbiAgICAgICAgICAgIC8vIHRvIHdhaXQgZm9yIHRoZSB0cmFuc2Zvcm0gdG8gYmUgcmVtb3ZlZC5cbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgIHNjcm9sbEludG9WaWV3KHRhcmdldCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3YWl0IGZvciB0aGUgdmlzdWFsIHZpZXdwb3J0IHRvIHJlc2l6ZSBiZWZvcmUgc2Nyb2xsaW5nIHNvIHdlIGNhblxuICAgICAgICAgICAgLy8gbWVhc3VyZSB0aGUgY29ycmVjdCBwb3NpdGlvbiB0byBzY3JvbGwgdG8uXG4gICAgICAgICAgICB2aXN1YWxWaWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiBzY3JvbGxJbnRvVmlldyh0YXJnZXQpLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgbGV0IG9uV2luZG93U2Nyb2xsID0gKCkgPT4ge1xuICAgIC8vIExhc3QgcmVzb3J0LiBJZiB0aGUgd2luZG93IHNjcm9sbGVkLCBzY3JvbGwgaXQgYmFjayB0byB0aGUgdG9wLlxuICAgIC8vIEl0IHNob3VsZCBhbHdheXMgYmUgYXQgdGhlIHRvcCBiZWNhdXNlIHRoZSBib2R5IHdpbGwgaGF2ZSBhIG5lZ2F0aXZlIG1hcmdpbiAoc2VlIGJlbG93KS5cbiAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gIH07XG5cbiAgLy8gUmVjb3JkIHRoZSBvcmlnaW5hbCBzY3JvbGwgcG9zaXRpb24gc28gd2UgY2FuIHJlc3RvcmUgaXQuXG4gIC8vIFRoZW4gYXBwbHkgYSBuZWdhdGl2ZSBtYXJnaW4gdG8gdGhlIGJvZHkgdG8gb2Zmc2V0IGl0IGJ5IHRoZSBzY3JvbGwgcG9zaXRpb24uIFRoaXMgd2lsbFxuICAvLyBlbmFibGUgdXMgdG8gc2Nyb2xsIHRoZSB3aW5kb3cgdG8gdGhlIHRvcCwgd2hpY2ggaXMgcmVxdWlyZWQgZm9yIHRoZSByZXN0IG9mIHRoaXMgdG8gd29yay5cbiAgbGV0IHNjcm9sbFggPSB3aW5kb3cucGFnZVhPZmZzZXQ7XG4gIGxldCBzY3JvbGxZID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuXG4gIGxldCByZXN0b3JlU3R5bGVzID0gY2hhaW4oXG4gICAgc2V0U3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAncGFkZGluZ1JpZ2h0JywgYCR7d2luZG93LmlubmVyV2lkdGggLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGh9cHhgKSxcbiAgICAvLyBzZXRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICdvdmVyZmxvdycsICdoaWRkZW4nKSxcbiAgICAvLyBzZXRTdHlsZShkb2N1bWVudC5ib2R5LCAnbWFyZ2luVG9wJywgYC0ke3Njcm9sbFl9cHhgKSxcbiAgKTtcblxuICAvLyBTY3JvbGwgdG8gdGhlIHRvcC4gVGhlIG5lZ2F0aXZlIG1hcmdpbiBvbiB0aGUgYm9keSB3aWxsIG1ha2UgdGhpcyBhcHBlYXIgdGhlIHNhbWUuXG4gIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcblxuICBsZXQgcmVtb3ZlRXZlbnRzID0gY2hhaW4oXG4gICAgYWRkRXZlbnQoZG9jdW1lbnQsICd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0LCB7IHBhc3NpdmU6IGZhbHNlLCBjYXB0dXJlOiB0cnVlIH0pLFxuICAgIGFkZEV2ZW50KGRvY3VtZW50LCAndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUsIHsgcGFzc2l2ZTogZmFsc2UsIGNhcHR1cmU6IHRydWUgfSksXG4gICAgYWRkRXZlbnQoZG9jdW1lbnQsICd0b3VjaGVuZCcsIG9uVG91Y2hFbmQsIHsgcGFzc2l2ZTogZmFsc2UsIGNhcHR1cmU6IHRydWUgfSksXG4gICAgYWRkRXZlbnQoZG9jdW1lbnQsICdmb2N1cycsIG9uRm9jdXMsIHRydWUpLFxuICAgIGFkZEV2ZW50KHdpbmRvdywgJ3Njcm9sbCcsIG9uV2luZG93U2Nyb2xsKSxcbiAgKTtcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIC8vIFJlc3RvcmUgc3R5bGVzIGFuZCBzY3JvbGwgdGhlIHBhZ2UgYmFjayB0byB3aGVyZSBpdCB3YXMuXG4gICAgcmVzdG9yZVN0eWxlcygpO1xuICAgIHJlbW92ZUV2ZW50cygpO1xuICAgIHdpbmRvdy5zY3JvbGxUbyhzY3JvbGxYLCBzY3JvbGxZKTtcbiAgfTtcbn1cblxuLy8gU2V0cyBhIENTUyBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50LCBhbmQgcmV0dXJucyBhIGZ1bmN0aW9uIHRvIHJldmVydCBpdCB0byB0aGUgcHJldmlvdXMgdmFsdWUuXG5mdW5jdGlvbiBzZXRTdHlsZShlbGVtZW50OiBIVE1MRWxlbWVudCwgc3R5bGU6IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICBsZXQgY3VyID0gZWxlbWVudC5zdHlsZVtzdHlsZV07XG4gIGVsZW1lbnQuc3R5bGVbc3R5bGVdID0gdmFsdWU7XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBlbGVtZW50LnN0eWxlW3N0eWxlXSA9IGN1cjtcbiAgfTtcbn1cblxuLy8gQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byBhbiBlbGVtZW50LCBhbmQgcmV0dXJucyBhIGZ1bmN0aW9uIHRvIHJlbW92ZSBpdC5cbmZ1bmN0aW9uIGFkZEV2ZW50PEsgZXh0ZW5kcyBrZXlvZiBHbG9iYWxFdmVudEhhbmRsZXJzRXZlbnRNYXA+KFxuICB0YXJnZXQ6IEV2ZW50VGFyZ2V0LFxuICBldmVudDogSyxcbiAgaGFuZGxlcjogKHRoaXM6IERvY3VtZW50LCBldjogR2xvYmFsRXZlbnRIYW5kbGVyc0V2ZW50TWFwW0tdKSA9PiBhbnksXG4gIG9wdGlvbnM/OiBib29sZWFuIHwgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMsXG4pIHtcbiAgLy8gQHRzLWlnbm9yZVxuICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzY3JvbGxJbnRvVmlldyh0YXJnZXQ6IEVsZW1lbnQpIHtcbiAgbGV0IHJvb3QgPSBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgd2hpbGUgKHRhcmdldCAmJiB0YXJnZXQgIT09IHJvb3QpIHtcbiAgICAvLyBGaW5kIHRoZSBwYXJlbnQgc2Nyb2xsYWJsZSBlbGVtZW50IGFuZCBhZGp1c3QgdGhlIHNjcm9sbCBwb3NpdGlvbiBpZiB0aGUgdGFyZ2V0IGlzIG5vdCBhbHJlYWR5IGluIHZpZXcuXG4gICAgbGV0IHNjcm9sbGFibGUgPSBnZXRTY3JvbGxQYXJlbnQodGFyZ2V0KTtcbiAgICBpZiAoc2Nyb2xsYWJsZSAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIHNjcm9sbGFibGUgIT09IGRvY3VtZW50LmJvZHkgJiYgc2Nyb2xsYWJsZSAhPT0gdGFyZ2V0KSB7XG4gICAgICBsZXQgc2Nyb2xsYWJsZVRvcCA9IHNjcm9sbGFibGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgbGV0IHRhcmdldFRvcCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICBsZXQgdGFyZ2V0Qm90dG9tID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcbiAgICAgIGNvbnN0IGtleWJvYXJkSGVpZ2h0ID0gc2Nyb2xsYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207XG5cbiAgICAgIGlmICh0YXJnZXRCb3R0b20gPiBrZXlib2FyZEhlaWdodCkge1xuICAgICAgICBzY3JvbGxhYmxlLnNjcm9sbFRvcCArPSB0YXJnZXRUb3AgLSBzY3JvbGxhYmxlVG9wO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0YXJnZXQgPSBzY3JvbGxhYmxlLnBhcmVudEVsZW1lbnQ7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSW5wdXQodGFyZ2V0OiBFbGVtZW50KSB7XG4gIHJldHVybiAoXG4gICAgKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgIW5vblRleHRJbnB1dFR5cGVzLmhhcyh0YXJnZXQudHlwZSkpIHx8XG4gICAgdGFyZ2V0IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCB8fFxuICAgICh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiB0YXJnZXQuaXNDb250ZW50RWRpdGFibGUpXG4gICk7XG59XG4iLCIvLyBUaGlzIGNvZGUgY29tZXMgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vcmFkaXgtdWkvcHJpbWl0aXZlcy90cmVlL21haW4vcGFja2FnZXMvcmVhY3QvY29tcG9zZS1yZWZzXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxudHlwZSBQb3NzaWJsZVJlZjxUPiA9IFJlYWN0LlJlZjxUPiB8IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBTZXQgYSBnaXZlbiByZWYgdG8gYSBnaXZlbiB2YWx1ZVxuICogVGhpcyB1dGlsaXR5IHRha2VzIGNhcmUgb2YgZGlmZmVyZW50IHR5cGVzIG9mIHJlZnM6IGNhbGxiYWNrIHJlZnMgYW5kIFJlZk9iamVjdChzKVxuICovXG5mdW5jdGlvbiBzZXRSZWY8VD4ocmVmOiBQb3NzaWJsZVJlZjxUPiwgdmFsdWU6IFQpIHtcbiAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZWYodmFsdWUpO1xuICB9IGVsc2UgaWYgKHJlZiAhPT0gbnVsbCAmJiByZWYgIT09IHVuZGVmaW5lZCkge1xuICAgIChyZWYgYXMgUmVhY3QuTXV0YWJsZVJlZk9iamVjdDxUPikuY3VycmVudCA9IHZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogQSB1dGlsaXR5IHRvIGNvbXBvc2UgbXVsdGlwbGUgcmVmcyB0b2dldGhlclxuICogQWNjZXB0cyBjYWxsYmFjayByZWZzIGFuZCBSZWZPYmplY3QocylcbiAqL1xuZnVuY3Rpb24gY29tcG9zZVJlZnM8VD4oLi4ucmVmczogUG9zc2libGVSZWY8VD5bXSkge1xuICByZXR1cm4gKG5vZGU6IFQpID0+IHJlZnMuZm9yRWFjaCgocmVmKSA9PiBzZXRSZWYocmVmLCBub2RlKSk7XG59XG5cbi8qKlxuICogQSBjdXN0b20gaG9vayB0aGF0IGNvbXBvc2VzIG11bHRpcGxlIHJlZnNcbiAqIEFjY2VwdHMgY2FsbGJhY2sgcmVmcyBhbmQgUmVmT2JqZWN0KHMpXG4gKi9cbmZ1bmN0aW9uIHVzZUNvbXBvc2VkUmVmczxUPiguLi5yZWZzOiBQb3NzaWJsZVJlZjxUPltdKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgcmV0dXJuIFJlYWN0LnVzZUNhbGxiYWNrKGNvbXBvc2VSZWZzKC4uLnJlZnMpLCByZWZzKTtcbn1cblxuZXhwb3J0IHsgY29tcG9zZVJlZnMsIHVzZUNvbXBvc2VkUmVmcyB9O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxubGV0IHByZXZpb3VzQm9keVBvc2l0aW9uOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHwgbnVsbCA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VQb3NpdGlvbkZpeGVkKHtcbiAgaXNPcGVuLFxuICBtb2RhbCxcbiAgbmVzdGVkLFxuICBoYXNCZWVuT3BlbmVkLFxuICBwcmV2ZW50U2Nyb2xsUmVzdG9yYXRpb24sXG59OiB7XG4gIGlzT3BlbjogYm9vbGVhbjtcbiAgbW9kYWw6IGJvb2xlYW47XG4gIG5lc3RlZDogYm9vbGVhbjtcbiAgaGFzQmVlbk9wZW5lZDogYm9vbGVhbjtcbiAgcHJldmVudFNjcm9sbFJlc3RvcmF0aW9uOiBib29sZWFuO1xufSkge1xuICBjb25zdCBbYWN0aXZlVXJsLCBzZXRBY3RpdmVVcmxdID0gUmVhY3QudXNlU3RhdGUodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYXRpb24uaHJlZiA6ICcnKTtcbiAgY29uc3Qgc2Nyb2xsUG9zID0gUmVhY3QudXNlUmVmKDApO1xuXG4gIGNvbnN0IHNldFBvc2l0aW9uRml4ZWQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgLy8gSWYgcHJldmlvdXNCb2R5UG9zaXRpb24gaXMgYWxyZWFkeSBzZXQsIGRvbid0IHNldCBpdCBhZ2Fpbi5cbiAgICBpZiAocHJldmlvdXNCb2R5UG9zaXRpb24gPT09IG51bGwgJiYgaXNPcGVuKSB7XG4gICAgICBwcmV2aW91c0JvZHlQb3NpdGlvbiA9IHtcbiAgICAgICAgcG9zaXRpb246IGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24sXG4gICAgICAgIHRvcDogZG9jdW1lbnQuYm9keS5zdHlsZS50b3AsXG4gICAgICAgIGxlZnQ6IGRvY3VtZW50LmJvZHkuc3R5bGUubGVmdCxcbiAgICAgICAgaGVpZ2h0OiBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCxcbiAgICAgIH07XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgZG9tIGluc2lkZSBhbiBhbmltYXRpb24gZnJhbWVcbiAgICAgIGNvbnN0IHsgc2Nyb2xsWCwgaW5uZXJIZWlnaHQgfSA9IHdpbmRvdztcblxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eSgncG9zaXRpb24nLCAnZml4ZWQnLCAnaW1wb3J0YW50Jyk7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRvcCA9IGAkey1zY3JvbGxQb3MuY3VycmVudH1weGA7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmxlZnQgPSBgJHstc2Nyb2xsWH1weGA7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnJpZ2h0ID0gJzBweCc7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9ICdhdXRvJztcblxuICAgICAgc2V0VGltZW91dChcbiAgICAgICAgKCkgPT5cbiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgLy8gQXR0ZW1wdCB0byBjaGVjayBpZiB0aGUgYm90dG9tIGJhciBhcHBlYXJlZCBkdWUgdG8gdGhlIHBvc2l0aW9uIGNoYW5nZVxuICAgICAgICAgICAgY29uc3QgYm90dG9tQmFySGVpZ2h0ID0gaW5uZXJIZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICBpZiAoYm90dG9tQmFySGVpZ2h0ICYmIHNjcm9sbFBvcy5jdXJyZW50ID49IGlubmVySGVpZ2h0KSB7XG4gICAgICAgICAgICAgIC8vIE1vdmUgdGhlIGNvbnRlbnQgZnVydGhlciB1cCBzbyB0aGF0IHRoZSBib3R0b20gYmFyIGRvZXNuJ3QgaGlkZSBpdFxuICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRvcCA9IGAkey0oc2Nyb2xsUG9zLmN1cnJlbnQgKyBib3R0b21CYXJIZWlnaHQpfXB4YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSxcbiAgICAgICAgMzAwLFxuICAgICAgKTtcbiAgICB9XG4gIH0sIFtpc09wZW5dKTtcblxuICBjb25zdCByZXN0b3JlUG9zaXRpb25TZXR0aW5nID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChwcmV2aW91c0JvZHlQb3NpdGlvbiAhPT0gbnVsbCkge1xuICAgICAgLy8gQ29udmVydCB0aGUgcG9zaXRpb24gZnJvbSBcInB4XCIgdG8gSW50XG4gICAgICBjb25zdCB5ID0gLXBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUudG9wLCAxMCk7XG4gICAgICBjb25zdCB4ID0gLXBhcnNlSW50KGRvY3VtZW50LmJvZHkuc3R5bGUubGVmdCwgMTApO1xuXG4gICAgICAvLyBSZXN0b3JlIHN0eWxlc1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvbiA9IHByZXZpb3VzQm9keVBvc2l0aW9uLnBvc2l0aW9uO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50b3AgPSBwcmV2aW91c0JvZHlQb3NpdGlvbi50b3A7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmxlZnQgPSBwcmV2aW91c0JvZHlQb3NpdGlvbi5sZWZ0O1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBwcmV2aW91c0JvZHlQb3NpdGlvbi5oZWlnaHQ7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnJpZ2h0ID0gJ3Vuc2V0JztcblxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgaWYgKHByZXZlbnRTY3JvbGxSZXN0b3JhdGlvbiAmJiBhY3RpdmVVcmwgIT09IHdpbmRvdy5sb2NhdGlvbi5ocmVmKSB7XG4gICAgICAgICAgc2V0QWN0aXZlVXJsKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeCwgeSk7XG4gICAgICB9KTtcblxuICAgICAgcHJldmlvdXNCb2R5UG9zaXRpb24gPSBudWxsO1xuICAgIH1cbiAgfSwgW2FjdGl2ZVVybF0pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZnVuY3Rpb24gb25TY3JvbGwoKSB7XG4gICAgICBzY3JvbGxQb3MuY3VycmVudCA9IHdpbmRvdy5zY3JvbGxZO1xuICAgIH1cblxuICAgIG9uU2Nyb2xsKCk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25TY3JvbGwpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG5lc3RlZCB8fCAhaGFzQmVlbk9wZW5lZCkgcmV0dXJuO1xuICAgIC8vIFRoaXMgaXMgbmVlZGVkIHRvIGZvcmNlIFNhZmFyaSB0b29sYmFyIHRvIHNob3cgKipiZWZvcmUqKiB0aGUgZHJhd2VyIHN0YXJ0cyBhbmltYXRpbmcgdG8gcHJldmVudCBhIGduYXJseSBzaGlmdCBmcm9tIGhhcHBlbmluZ1xuICAgIGlmIChpc09wZW4pIHtcbiAgICAgIHNldFBvc2l0aW9uRml4ZWQoKTtcblxuICAgICAgaWYgKCFtb2RhbCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICByZXN0b3JlUG9zaXRpb25TZXR0aW5nKCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3RvcmVQb3NpdGlvblNldHRpbmcoKTtcbiAgICB9XG4gIH0sIFtpc09wZW4sIGhhc0JlZW5PcGVuZWQsIGFjdGl2ZVVybCwgbW9kYWwsIG5lc3RlZCwgc2V0UG9zaXRpb25GaXhlZCwgcmVzdG9yZVBvc2l0aW9uU2V0dGluZ10pO1xuXG4gIHJldHVybiB7IHJlc3RvcmVQb3NpdGlvblNldHRpbmcgfTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzZXQsIGlzVmVydGljYWwgfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHsgVFJBTlNJVElPTlMsIFZFTE9DSVRZX1RIUkVTSE9MRCB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IHVzZUNvbnRyb2xsYWJsZVN0YXRlIH0gZnJvbSAnLi91c2UtY29udHJvbGxhYmxlLXN0YXRlJztcbmltcG9ydCB7IERyYXdlckRpcmVjdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlU25hcFBvaW50cyh7XG4gIGFjdGl2ZVNuYXBQb2ludFByb3AsXG4gIHNldEFjdGl2ZVNuYXBQb2ludFByb3AsXG4gIHNuYXBQb2ludHMsXG4gIGRyYXdlclJlZixcbiAgb3ZlcmxheVJlZixcbiAgZmFkZUZyb21JbmRleCxcbiAgb25TbmFwUG9pbnRDaGFuZ2UsXG4gIGRpcmVjdGlvbiA9ICdib3R0b20nLFxufToge1xuICBhY3RpdmVTbmFwUG9pbnRQcm9wPzogbnVtYmVyIHwgc3RyaW5nIHwgbnVsbDtcbiAgc2V0QWN0aXZlU25hcFBvaW50UHJvcD8oc25hcFBvaW50OiBudW1iZXIgfCBudWxsIHwgc3RyaW5nKTogdm9pZDtcbiAgc25hcFBvaW50cz86IChudW1iZXIgfCBzdHJpbmcpW107XG4gIGZhZGVGcm9tSW5kZXg/OiBudW1iZXI7XG4gIGRyYXdlclJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50PjtcbiAgb3ZlcmxheVJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50PjtcbiAgb25TbmFwUG9pbnRDaGFuZ2UoYWN0aXZlU25hcFBvaW50SW5kZXg6IG51bWJlcik6IHZvaWQ7XG4gIGRpcmVjdGlvbj86IERyYXdlckRpcmVjdGlvbjtcbn0pIHtcbiAgY29uc3QgW2FjdGl2ZVNuYXBQb2ludCwgc2V0QWN0aXZlU25hcFBvaW50XSA9IHVzZUNvbnRyb2xsYWJsZVN0YXRlPHN0cmluZyB8IG51bWJlciB8IG51bGw+KHtcbiAgICBwcm9wOiBhY3RpdmVTbmFwUG9pbnRQcm9wLFxuICAgIGRlZmF1bHRQcm9wOiBzbmFwUG9pbnRzPy5bMF0sXG4gICAgb25DaGFuZ2U6IHNldEFjdGl2ZVNuYXBQb2ludFByb3AsXG4gIH0pO1xuXG4gIGNvbnN0IGlzTGFzdFNuYXBQb2ludCA9IFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT4gYWN0aXZlU25hcFBvaW50ID09PSBzbmFwUG9pbnRzPy5bc25hcFBvaW50cy5sZW5ndGggLSAxXSB8fCBudWxsLFxuICAgIFtzbmFwUG9pbnRzLCBhY3RpdmVTbmFwUG9pbnRdLFxuICApO1xuXG4gIGNvbnN0IHNob3VsZEZhZGUgPVxuICAgIChzbmFwUG9pbnRzICYmXG4gICAgICBzbmFwUG9pbnRzLmxlbmd0aCA+IDAgJiZcbiAgICAgIChmYWRlRnJvbUluZGV4IHx8IGZhZGVGcm9tSW5kZXggPT09IDApICYmXG4gICAgICAhTnVtYmVyLmlzTmFOKGZhZGVGcm9tSW5kZXgpICYmXG4gICAgICBzbmFwUG9pbnRzW2ZhZGVGcm9tSW5kZXhdID09PSBhY3RpdmVTbmFwUG9pbnQpIHx8XG4gICAgIXNuYXBQb2ludHM7XG5cbiAgY29uc3QgYWN0aXZlU25hcFBvaW50SW5kZXggPSBSZWFjdC51c2VNZW1vKFxuICAgICgpID0+IHNuYXBQb2ludHM/LmZpbmRJbmRleCgoc25hcFBvaW50KSA9PiBzbmFwUG9pbnQgPT09IGFjdGl2ZVNuYXBQb2ludCksXG4gICAgW3NuYXBQb2ludHMsIGFjdGl2ZVNuYXBQb2ludF0sXG4gICk7XG5cbiAgY29uc3Qgc25hcFBvaW50c09mZnNldCA9IFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIHNuYXBQb2ludHM/Lm1hcCgoc25hcFBvaW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGhhc1dpbmRvdyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICBjb25zdCBpc1B4ID0gdHlwZW9mIHNuYXBQb2ludCA9PT0gJ3N0cmluZyc7XG4gICAgICAgIGxldCBzbmFwUG9pbnRBc051bWJlciA9IDA7XG5cbiAgICAgICAgaWYgKGlzUHgpIHtcbiAgICAgICAgICBzbmFwUG9pbnRBc051bWJlciA9IHBhcnNlSW50KHNuYXBQb2ludCwgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzVmVydGljYWwoZGlyZWN0aW9uKSkge1xuICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGlzUHggPyBzbmFwUG9pbnRBc051bWJlciA6IGhhc1dpbmRvdyA/IHNuYXBQb2ludCAqIHdpbmRvdy5pbm5lckhlaWdodCA6IDA7XG5cbiAgICAgICAgICBpZiAoaGFzV2luZG93KSB7XG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aW9uID09PSAnYm90dG9tJyA/IHdpbmRvdy5pbm5lckhlaWdodCAtIGhlaWdodCA6IC13aW5kb3cuaW5uZXJIZWlnaHQgKyBoZWlnaHQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3aWR0aCA9IGlzUHggPyBzbmFwUG9pbnRBc051bWJlciA6IGhhc1dpbmRvdyA/IHNuYXBQb2ludCAqIHdpbmRvdy5pbm5lcldpZHRoIDogMDtcblxuICAgICAgICBpZiAoaGFzV2luZG93KSB7XG4gICAgICAgICAgcmV0dXJuIGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/IHdpbmRvdy5pbm5lcldpZHRoIC0gd2lkdGggOiAtd2luZG93LmlubmVyV2lkdGggKyB3aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB3aWR0aDtcbiAgICAgIH0pID8/IFtdLFxuICAgIFtzbmFwUG9pbnRzXSxcbiAgKTtcblxuICBjb25zdCBhY3RpdmVTbmFwUG9pbnRPZmZzZXQgPSBSZWFjdC51c2VNZW1vKFxuICAgICgpID0+IChhY3RpdmVTbmFwUG9pbnRJbmRleCAhPT0gbnVsbCA/IHNuYXBQb2ludHNPZmZzZXQ/LlthY3RpdmVTbmFwUG9pbnRJbmRleF0gOiBudWxsKSxcbiAgICBbc25hcFBvaW50c09mZnNldCwgYWN0aXZlU25hcFBvaW50SW5kZXhdLFxuICApO1xuXG4gIGNvbnN0IHNuYXBUb1BvaW50ID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGRpbWVuc2lvbjogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCBuZXdTbmFwUG9pbnRJbmRleCA9IHNuYXBQb2ludHNPZmZzZXQ/LmZpbmRJbmRleCgoc25hcFBvaW50RGltKSA9PiBzbmFwUG9pbnREaW0gPT09IGRpbWVuc2lvbikgPz8gbnVsbDtcbiAgICAgIG9uU25hcFBvaW50Q2hhbmdlKG5ld1NuYXBQb2ludEluZGV4KTtcbiAgICAgIHNldChkcmF3ZXJSZWYuY3VycmVudCwge1xuICAgICAgICB0cmFuc2l0aW9uOiBgdHJhbnNmb3JtICR7VFJBTlNJVElPTlMuRFVSQVRJT059cyBjdWJpYy1iZXppZXIoJHtUUkFOU0lUSU9OUy5FQVNFLmpvaW4oJywnKX0pYCxcbiAgICAgICAgdHJhbnNmb3JtOiBpc1ZlcnRpY2FsKGRpcmVjdGlvbikgPyBgdHJhbnNsYXRlM2QoMCwgJHtkaW1lbnNpb259cHgsIDApYCA6IGB0cmFuc2xhdGUzZCgke2RpbWVuc2lvbn1weCwgMCwgMClgLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChcbiAgICAgICAgc25hcFBvaW50c09mZnNldCAmJlxuICAgICAgICBuZXdTbmFwUG9pbnRJbmRleCAhPT0gc25hcFBvaW50c09mZnNldC5sZW5ndGggLSAxICYmXG4gICAgICAgIG5ld1NuYXBQb2ludEluZGV4ICE9PSBmYWRlRnJvbUluZGV4XG4gICAgICApIHtcbiAgICAgICAgc2V0KG92ZXJsYXlSZWYuY3VycmVudCwge1xuICAgICAgICAgIHRyYW5zaXRpb246IGBvcGFjaXR5ICR7VFJBTlNJVElPTlMuRFVSQVRJT059cyBjdWJpYy1iZXppZXIoJHtUUkFOU0lUSU9OUy5FQVNFLmpvaW4oJywnKX0pYCxcbiAgICAgICAgICBvcGFjaXR5OiAnMCcsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0KG92ZXJsYXlSZWYuY3VycmVudCwge1xuICAgICAgICAgIHRyYW5zaXRpb246IGBvcGFjaXR5ICR7VFJBTlNJVElPTlMuRFVSQVRJT059cyBjdWJpYy1iZXppZXIoJHtUUkFOU0lUSU9OUy5FQVNFLmpvaW4oJywnKX0pYCxcbiAgICAgICAgICBvcGFjaXR5OiAnMScsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzZXRBY3RpdmVTbmFwUG9pbnQobmV3U25hcFBvaW50SW5kZXggIT09IG51bGwgPyBzbmFwUG9pbnRzPy5bbmV3U25hcFBvaW50SW5kZXhdIDogbnVsbCk7XG4gICAgfSxcbiAgICBbZHJhd2VyUmVmLmN1cnJlbnQsIHNuYXBQb2ludHMsIHNuYXBQb2ludHNPZmZzZXQsIGZhZGVGcm9tSW5kZXgsIG92ZXJsYXlSZWYsIHNldEFjdGl2ZVNuYXBQb2ludF0sXG4gICk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWN0aXZlU25hcFBvaW50UHJvcCkge1xuICAgICAgY29uc3QgbmV3SW5kZXggPSBzbmFwUG9pbnRzPy5maW5kSW5kZXgoKHNuYXBQb2ludCkgPT4gc25hcFBvaW50ID09PSBhY3RpdmVTbmFwUG9pbnRQcm9wKSA/PyAtMTtcbiAgICAgIGlmIChzbmFwUG9pbnRzT2Zmc2V0ICYmIG5ld0luZGV4ICE9PSAtMSAmJiB0eXBlb2Ygc25hcFBvaW50c09mZnNldFtuZXdJbmRleF0gPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNuYXBUb1BvaW50KHNuYXBQb2ludHNPZmZzZXRbbmV3SW5kZXhdIGFzIG51bWJlcik7XG4gICAgICB9XG4gICAgfVxuICB9LCBbYWN0aXZlU25hcFBvaW50UHJvcCwgc25hcFBvaW50cywgc25hcFBvaW50c09mZnNldCwgc25hcFRvUG9pbnRdKTtcblxuICBmdW5jdGlvbiBvblJlbGVhc2Uoe1xuICAgIGRyYWdnZWREaXN0YW5jZSxcbiAgICBjbG9zZURyYXdlcixcbiAgICB2ZWxvY2l0eSxcbiAgICBkaXNtaXNzaWJsZSxcbiAgfToge1xuICAgIGRyYWdnZWREaXN0YW5jZTogbnVtYmVyO1xuICAgIGNsb3NlRHJhd2VyOiAoKSA9PiB2b2lkO1xuICAgIHZlbG9jaXR5OiBudW1iZXI7XG4gICAgZGlzbWlzc2libGU6IGJvb2xlYW47XG4gIH0pIHtcbiAgICBpZiAoZmFkZUZyb21JbmRleCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICBjb25zdCBjdXJyZW50UG9zaXRpb24gPVxuICAgICAgZGlyZWN0aW9uID09PSAnYm90dG9tJyB8fCBkaXJlY3Rpb24gPT09ICdyaWdodCdcbiAgICAgICAgPyAoYWN0aXZlU25hcFBvaW50T2Zmc2V0ID8/IDApIC0gZHJhZ2dlZERpc3RhbmNlXG4gICAgICAgIDogKGFjdGl2ZVNuYXBQb2ludE9mZnNldCA/PyAwKSArIGRyYWdnZWREaXN0YW5jZTtcbiAgICBjb25zdCBpc092ZXJsYXlTbmFwUG9pbnQgPSBhY3RpdmVTbmFwUG9pbnRJbmRleCA9PT0gZmFkZUZyb21JbmRleCAtIDE7XG4gICAgY29uc3QgaXNGaXJzdCA9IGFjdGl2ZVNuYXBQb2ludEluZGV4ID09PSAwO1xuICAgIGNvbnN0IGhhc0RyYWdnZWRVcCA9IGRyYWdnZWREaXN0YW5jZSA+IDA7XG5cbiAgICBpZiAoaXNPdmVybGF5U25hcFBvaW50KSB7XG4gICAgICBzZXQob3ZlcmxheVJlZi5jdXJyZW50LCB7XG4gICAgICAgIHRyYW5zaXRpb246IGBvcGFjaXR5ICR7VFJBTlNJVElPTlMuRFVSQVRJT059cyBjdWJpYy1iZXppZXIoJHtUUkFOU0lUSU9OUy5FQVNFLmpvaW4oJywnKX0pYCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh2ZWxvY2l0eSA+IDIgJiYgIWhhc0RyYWdnZWRVcCkge1xuICAgICAgaWYgKGRpc21pc3NpYmxlKSBjbG9zZURyYXdlcigpO1xuICAgICAgZWxzZSBzbmFwVG9Qb2ludChzbmFwUG9pbnRzT2Zmc2V0WzBdKTsgLy8gc25hcCB0byBpbml0aWFsIHBvaW50XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHZlbG9jaXR5ID4gMiAmJiBoYXNEcmFnZ2VkVXAgJiYgc25hcFBvaW50c09mZnNldCAmJiBzbmFwUG9pbnRzKSB7XG4gICAgICBzbmFwVG9Qb2ludChzbmFwUG9pbnRzT2Zmc2V0W3NuYXBQb2ludHMubGVuZ3RoIC0gMV0gYXMgbnVtYmVyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGaW5kIHRoZSBjbG9zZXN0IHNuYXAgcG9pbnQgdG8gdGhlIGN1cnJlbnQgcG9zaXRpb25cbiAgICBjb25zdCBjbG9zZXN0U25hcFBvaW50ID0gc25hcFBvaW50c09mZnNldD8ucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHByZXYgIT09ICdudW1iZXInIHx8IHR5cGVvZiBjdXJyICE9PSAnbnVtYmVyJykgcmV0dXJuIHByZXY7XG5cbiAgICAgIHJldHVybiBNYXRoLmFicyhjdXJyIC0gY3VycmVudFBvc2l0aW9uKSA8IE1hdGguYWJzKHByZXYgLSBjdXJyZW50UG9zaXRpb24pID8gY3VyciA6IHByZXY7XG4gICAgfSk7XG5cbiAgICBjb25zdCBkaW0gPSBpc1ZlcnRpY2FsKGRpcmVjdGlvbikgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBpZiAodmVsb2NpdHkgPiBWRUxPQ0lUWV9USFJFU0hPTEQgJiYgTWF0aC5hYnMoZHJhZ2dlZERpc3RhbmNlKSA8IGRpbSAqIDAuNCkge1xuICAgICAgY29uc3QgZHJhZ0RpcmVjdGlvbiA9IGhhc0RyYWdnZWRVcCA/IDEgOiAtMTsgLy8gMSA9IHVwLCAtMSA9IGRvd25cblxuICAgICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgd2Ugc3dpcGUgdXB3YXJkcyB3aGlsZSBiZWluZyBvbiB0aGUgbGFzdCBzbmFwIHBvaW50XG4gICAgICBpZiAoZHJhZ0RpcmVjdGlvbiA+IDAgJiYgaXNMYXN0U25hcFBvaW50KSB7XG4gICAgICAgIHNuYXBUb1BvaW50KHNuYXBQb2ludHNPZmZzZXRbc25hcFBvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRmlyc3QgJiYgZHJhZ0RpcmVjdGlvbiA8IDAgJiYgZGlzbWlzc2libGUpIHtcbiAgICAgICAgY2xvc2VEcmF3ZXIoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFjdGl2ZVNuYXBQb2ludEluZGV4ID09PSBudWxsKSByZXR1cm47XG5cbiAgICAgIHNuYXBUb1BvaW50KHNuYXBQb2ludHNPZmZzZXRbYWN0aXZlU25hcFBvaW50SW5kZXggKyBkcmFnRGlyZWN0aW9uXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc25hcFRvUG9pbnQoY2xvc2VzdFNuYXBQb2ludCk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkRyYWcoeyBkcmFnZ2VkRGlzdGFuY2UgfTogeyBkcmFnZ2VkRGlzdGFuY2U6IG51bWJlciB9KSB7XG4gICAgaWYgKGFjdGl2ZVNuYXBQb2ludE9mZnNldCA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIGNvbnN0IG5ld1ZhbHVlID1cbiAgICAgIGRpcmVjdGlvbiA9PT0gJ2JvdHRvbScgfHwgZGlyZWN0aW9uID09PSAncmlnaHQnXG4gICAgICAgID8gYWN0aXZlU25hcFBvaW50T2Zmc2V0IC0gZHJhZ2dlZERpc3RhbmNlXG4gICAgICAgIDogYWN0aXZlU25hcFBvaW50T2Zmc2V0ICsgZHJhZ2dlZERpc3RhbmNlO1xuXG4gICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgd2UgZXhjZWVkIHRoZSBsYXN0KGJpZ2dlc3QpIHNuYXAgcG9pbnRcbiAgICBpZiAoKGRpcmVjdGlvbiA9PT0gJ2JvdHRvbScgfHwgZGlyZWN0aW9uID09PSAncmlnaHQnKSAmJiBuZXdWYWx1ZSA8IHNuYXBQb2ludHNPZmZzZXRbc25hcFBvaW50c09mZnNldC5sZW5ndGggLSAxXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoKGRpcmVjdGlvbiA9PT0gJ3RvcCcgfHwgZGlyZWN0aW9uID09PSAnbGVmdCcpICYmIG5ld1ZhbHVlID4gc25hcFBvaW50c09mZnNldFtzbmFwUG9pbnRzT2Zmc2V0Lmxlbmd0aCAtIDFdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0KGRyYXdlclJlZi5jdXJyZW50LCB7XG4gICAgICB0cmFuc2Zvcm06IGlzVmVydGljYWwoZGlyZWN0aW9uKSA/IGB0cmFuc2xhdGUzZCgwLCAke25ld1ZhbHVlfXB4LCAwKWAgOiBgdHJhbnNsYXRlM2QoJHtuZXdWYWx1ZX1weCwgMCwgMClgLFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UGVyY2VudGFnZURyYWdnZWQoYWJzRHJhZ2dlZERpc3RhbmNlOiBudW1iZXIsIGlzRHJhZ2dpbmdEb3duOiBib29sZWFuKSB7XG4gICAgaWYgKCFzbmFwUG9pbnRzIHx8IHR5cGVvZiBhY3RpdmVTbmFwUG9pbnRJbmRleCAhPT0gJ251bWJlcicgfHwgIXNuYXBQb2ludHNPZmZzZXQgfHwgZmFkZUZyb21JbmRleCA9PT0gdW5kZWZpbmVkKVxuICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAvLyBJZiB0aGlzIGlzIHRydWUgd2UgYXJlIGRyYWdnaW5nIHRvIGEgc25hcCBwb2ludCB0aGF0IGlzIHN1cHBvc2VkIHRvIGhhdmUgYW4gb3ZlcmxheVxuICAgIGNvbnN0IGlzT3ZlcmxheVNuYXBQb2ludCA9IGFjdGl2ZVNuYXBQb2ludEluZGV4ID09PSBmYWRlRnJvbUluZGV4IC0gMTtcbiAgICBjb25zdCBpc092ZXJsYXlTbmFwUG9pbnRPckhpZ2hlciA9IGFjdGl2ZVNuYXBQb2ludEluZGV4ID49IGZhZGVGcm9tSW5kZXg7XG5cbiAgICBpZiAoaXNPdmVybGF5U25hcFBvaW50T3JIaWdoZXIgJiYgaXNEcmFnZ2luZ0Rvd24pIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8vIERvbid0IGFuaW1hdGUsIGJ1dCBzdGlsbCB1c2UgdGhpcyBvbmUgaWYgd2UgYXJlIGRyYWdnaW5nIGF3YXkgZnJvbSB0aGUgb3ZlcmxheVNuYXBQb2ludFxuICAgIGlmIChpc092ZXJsYXlTbmFwUG9pbnQgJiYgIWlzRHJhZ2dpbmdEb3duKSByZXR1cm4gMTtcbiAgICBpZiAoIXNob3VsZEZhZGUgJiYgIWlzT3ZlcmxheVNuYXBQb2ludCkgcmV0dXJuIG51bGw7XG5cbiAgICAvLyBFaXRoZXIgZmFkZUZyb20gaW5kZXggb3IgdGhlIG9uZSBiZWZvcmVcbiAgICBjb25zdCB0YXJnZXRTbmFwUG9pbnRJbmRleCA9IGlzT3ZlcmxheVNuYXBQb2ludCA/IGFjdGl2ZVNuYXBQb2ludEluZGV4ICsgMSA6IGFjdGl2ZVNuYXBQb2ludEluZGV4IC0gMTtcblxuICAgIC8vIEdldCB0aGUgZGlzdGFuY2UgZnJvbSBvdmVybGF5U25hcFBvaW50IHRvIHRoZSBvbmUgYmVmb3JlIG9yIHZpY2UtdmVyc2EgdG8gY2FsY3VsYXRlIHRoZSBvcGFjaXR5IHBlcmNlbnRhZ2UgYWNjb3JkaW5nbHlcbiAgICBjb25zdCBzbmFwUG9pbnREaXN0YW5jZSA9IGlzT3ZlcmxheVNuYXBQb2ludFxuICAgICAgPyBzbmFwUG9pbnRzT2Zmc2V0W3RhcmdldFNuYXBQb2ludEluZGV4XSAtIHNuYXBQb2ludHNPZmZzZXRbdGFyZ2V0U25hcFBvaW50SW5kZXggLSAxXVxuICAgICAgOiBzbmFwUG9pbnRzT2Zmc2V0W3RhcmdldFNuYXBQb2ludEluZGV4ICsgMV0gLSBzbmFwUG9pbnRzT2Zmc2V0W3RhcmdldFNuYXBQb2ludEluZGV4XTtcblxuICAgIGNvbnN0IHBlcmNlbnRhZ2VEcmFnZ2VkID0gYWJzRHJhZ2dlZERpc3RhbmNlIC8gTWF0aC5hYnMoc25hcFBvaW50RGlzdGFuY2UpO1xuXG4gICAgaWYgKGlzT3ZlcmxheVNuYXBQb2ludCkge1xuICAgICAgcmV0dXJuIDEgLSBwZXJjZW50YWdlRHJhZ2dlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHBlcmNlbnRhZ2VEcmFnZ2VkO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaXNMYXN0U25hcFBvaW50LFxuICAgIGFjdGl2ZVNuYXBQb2ludCxcbiAgICBzaG91bGRGYWRlLFxuICAgIGdldFBlcmNlbnRhZ2VEcmFnZ2VkLFxuICAgIHNldEFjdGl2ZVNuYXBQb2ludCxcbiAgICBhY3RpdmVTbmFwUG9pbnRJbmRleCxcbiAgICBvblJlbGVhc2UsXG4gICAgb25EcmFnLFxuICAgIHNuYXBQb2ludHNPZmZzZXQsXG4gIH07XG59XG4iLCJpbXBvcnQgeyBEcmF3ZXJEaXJlY3Rpb24gfSBmcm9tICcuL3R5cGVzJztcblxuaW50ZXJmYWNlIFN0eWxlIHtcbiAgW2tleTogc3RyaW5nXTogc3RyaW5nO1xufVxuXG5jb25zdCBjYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0luVmlldyhlbDogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIGlmICghd2luZG93LnZpc3VhbFZpZXdwb3J0KSByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIChcbiAgICByZWN0LnRvcCA+PSAwICYmXG4gICAgcmVjdC5sZWZ0ID49IDAgJiZcbiAgICAvLyBOZWVkICsgNDAgZm9yIHNhZmFyaSBkZXRlY3Rpb25cbiAgICByZWN0LmJvdHRvbSA8PSB3aW5kb3cudmlzdWFsVmlld3BvcnQuaGVpZ2h0IC0gNDAgJiZcbiAgICByZWN0LnJpZ2h0IDw9IHdpbmRvdy52aXN1YWxWaWV3cG9ydC53aWR0aFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0KGVsPzogRWxlbWVudCB8IEhUTUxFbGVtZW50IHwgbnVsbCwgc3R5bGVzPzogU3R5bGUsIGlnbm9yZUNhY2hlID0gZmFsc2UpIHtcbiAgaWYgKCFlbCB8fCAhKGVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHx8ICFzdHlsZXMpIHJldHVybjtcbiAgbGV0IG9yaWdpbmFsU3R5bGVzOiBTdHlsZSA9IHt9O1xuXG4gIE9iamVjdC5lbnRyaWVzKHN0eWxlcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdOiBbc3RyaW5nLCBzdHJpbmddKSA9PiB7XG4gICAgaWYgKGtleS5zdGFydHNXaXRoKCctLScpKSB7XG4gICAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhbHVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvcmlnaW5hbFN0eWxlc1trZXldID0gKGVsLnN0eWxlIGFzIGFueSlba2V5XTtcbiAgICAoZWwuc3R5bGUgYXMgYW55KVtrZXldID0gdmFsdWU7XG4gIH0pO1xuXG4gIGlmIChpZ25vcmVDYWNoZSkgcmV0dXJuO1xuXG4gIGNhY2hlLnNldChlbCwgb3JpZ2luYWxTdHlsZXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXQoZWw6IEVsZW1lbnQgfCBIVE1MRWxlbWVudCB8IG51bGwsIHByb3A/OiBzdHJpbmcpIHtcbiAgaWYgKCFlbCB8fCAhKGVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSByZXR1cm47XG4gIGxldCBvcmlnaW5hbFN0eWxlcyA9IGNhY2hlLmdldChlbCk7XG5cbiAgaWYgKCFvcmlnaW5hbFN0eWxlcykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChwcm9wKSB7XG4gICAgKGVsLnN0eWxlIGFzIGFueSlbcHJvcF0gPSBvcmlnaW5hbFN0eWxlc1twcm9wXTtcbiAgfSBlbHNlIHtcbiAgICBPYmplY3QuZW50cmllcyhvcmlnaW5hbFN0eWxlcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAoZWwuc3R5bGUgYXMgYW55KVtrZXldID0gdmFsdWU7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGlzVmVydGljYWwgPSAoZGlyZWN0aW9uOiBEcmF3ZXJEaXJlY3Rpb24pID0+IHtcbiAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICBjYXNlICd0b3AnOlxuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBjYXNlICdsZWZ0JzpcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBkaXJlY3Rpb24gc2F0aXNmaWVzIG5ldmVyO1xuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNsYXRlKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBkaXJlY3Rpb246IERyYXdlckRpcmVjdGlvbik6IG51bWJlciB8IG51bGwge1xuICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICBjb25zdCB0cmFuc2Zvcm0gPVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBzdHlsZS50cmFuc2Zvcm0gfHwgc3R5bGUud2Via2l0VHJhbnNmb3JtIHx8IHN0eWxlLm1velRyYW5zZm9ybTtcbiAgbGV0IG1hdCA9IHRyYW5zZm9ybS5tYXRjaCgvXm1hdHJpeDNkXFwoKC4rKVxcKSQvKTtcbiAgaWYgKG1hdCkge1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy90cmFuc2Zvcm0tZnVuY3Rpb24vbWF0cml4M2RcbiAgICByZXR1cm4gcGFyc2VGbG9hdChtYXRbMV0uc3BsaXQoJywgJylbaXNWZXJ0aWNhbChkaXJlY3Rpb24pID8gMTMgOiAxMl0pO1xuICB9XG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy90cmFuc2Zvcm0tZnVuY3Rpb24vbWF0cml4XG4gIG1hdCA9IHRyYW5zZm9ybS5tYXRjaCgvXm1hdHJpeFxcKCguKylcXCkkLyk7XG4gIHJldHVybiBtYXQgPyBwYXJzZUZsb2F0KG1hdFsxXS5zcGxpdCgnLCAnKVtpc1ZlcnRpY2FsKGRpcmVjdGlvbikgPyA1IDogNF0pIDogbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRhbXBlblZhbHVlKHY6IG51bWJlcikge1xuICByZXR1cm4gOCAqIChNYXRoLmxvZyh2ICsgMSkgLSAyKTtcbn1cbiIsImV4cG9ydCBjb25zdCBUUkFOU0lUSU9OUyA9IHtcbiAgRFVSQVRJT046IDAuNSxcbiAgRUFTRTogWzAuMzIsIDAuNzIsIDAsIDFdLFxufTtcblxuZXhwb3J0IGNvbnN0IFZFTE9DSVRZX1RIUkVTSE9MRCA9IDAuNDtcbiIsIi8vIFRoaXMgY29kZSBjb21lcyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9yYWRpeC11aS9wcmltaXRpdmVzL2Jsb2IvbWFpbi9wYWNrYWdlcy9yZWFjdC91c2UtY29udHJvbGxhYmxlLXN0YXRlL3NyYy91c2VDb250cm9sbGFibGVTdGF0ZS50c3hcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxudHlwZSBVc2VDb250cm9sbGFibGVTdGF0ZVBhcmFtczxUPiA9IHtcbiAgcHJvcD86IFQgfCB1bmRlZmluZWQ7XG4gIGRlZmF1bHRQcm9wPzogVCB8IHVuZGVmaW5lZDtcbiAgb25DaGFuZ2U/OiAoc3RhdGU6IFQpID0+IHZvaWQ7XG59O1xuXG50eXBlIFNldFN0YXRlRm48VD4gPSAocHJldlN0YXRlPzogVCkgPT4gVDtcblxuZnVuY3Rpb24gdXNlQ2FsbGJhY2tSZWY8VCBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gYW55PihjYWxsYmFjazogVCB8IHVuZGVmaW5lZCk6IFQge1xuICBjb25zdCBjYWxsYmFja1JlZiA9IFJlYWN0LnVzZVJlZihjYWxsYmFjayk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjYWxsYmFja1JlZi5jdXJyZW50ID0gY2FsbGJhY2s7XG4gIH0pO1xuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTkyNDBcbiAgcmV0dXJuIFJlYWN0LnVzZU1lbW8oKCkgPT4gKCguLi5hcmdzKSA9PiBjYWxsYmFja1JlZi5jdXJyZW50Py4oLi4uYXJncykpIGFzIFQsIFtdKTtcbn1cblxuZnVuY3Rpb24gdXNlVW5jb250cm9sbGVkU3RhdGU8VD4oeyBkZWZhdWx0UHJvcCwgb25DaGFuZ2UgfTogT21pdDxVc2VDb250cm9sbGFibGVTdGF0ZVBhcmFtczxUPiwgJ3Byb3AnPikge1xuICBjb25zdCB1bmNvbnRyb2xsZWRTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlPFQgfCB1bmRlZmluZWQ+KGRlZmF1bHRQcm9wKTtcbiAgY29uc3QgW3ZhbHVlXSA9IHVuY29udHJvbGxlZFN0YXRlO1xuICBjb25zdCBwcmV2VmFsdWVSZWYgPSBSZWFjdC51c2VSZWYodmFsdWUpO1xuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSB1c2VDYWxsYmFja1JlZihvbkNoYW5nZSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJldlZhbHVlUmVmLmN1cnJlbnQgIT09IHZhbHVlKSB7XG4gICAgICBoYW5kbGVDaGFuZ2UodmFsdWUgYXMgVCk7XG4gICAgICBwcmV2VmFsdWVSZWYuY3VycmVudCA9IHZhbHVlO1xuICAgIH1cbiAgfSwgW3ZhbHVlLCBwcmV2VmFsdWVSZWYsIGhhbmRsZUNoYW5nZV0pO1xuXG4gIHJldHVybiB1bmNvbnRyb2xsZWRTdGF0ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1c2VDb250cm9sbGFibGVTdGF0ZTxUPih7IHByb3AsIGRlZmF1bHRQcm9wLCBvbkNoYW5nZSA9ICgpID0+IHt9IH06IFVzZUNvbnRyb2xsYWJsZVN0YXRlUGFyYW1zPFQ+KSB7XG4gIGNvbnN0IFt1bmNvbnRyb2xsZWRQcm9wLCBzZXRVbmNvbnRyb2xsZWRQcm9wXSA9IHVzZVVuY29udHJvbGxlZFN0YXRlKHsgZGVmYXVsdFByb3AsIG9uQ2hhbmdlIH0pO1xuICBjb25zdCBpc0NvbnRyb2xsZWQgPSBwcm9wICE9PSB1bmRlZmluZWQ7XG4gIGNvbnN0IHZhbHVlID0gaXNDb250cm9sbGVkID8gcHJvcCA6IHVuY29udHJvbGxlZFByb3A7XG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IHVzZUNhbGxiYWNrUmVmKG9uQ2hhbmdlKTtcblxuICBjb25zdCBzZXRWYWx1ZTogUmVhY3QuRGlzcGF0Y2g8UmVhY3QuU2V0U3RhdGVBY3Rpb248VCB8IHVuZGVmaW5lZD4+ID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKG5leHRWYWx1ZSkgPT4ge1xuICAgICAgaWYgKGlzQ29udHJvbGxlZCkge1xuICAgICAgICBjb25zdCBzZXR0ZXIgPSBuZXh0VmFsdWUgYXMgU2V0U3RhdGVGbjxUPjtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0eXBlb2YgbmV4dFZhbHVlID09PSAnZnVuY3Rpb24nID8gc2V0dGVyKHByb3ApIDogbmV4dFZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgIT09IHByb3ApIGhhbmRsZUNoYW5nZSh2YWx1ZSBhcyBUKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFVuY29udHJvbGxlZFByb3AobmV4dFZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtpc0NvbnRyb2xsZWQsIHByb3AsIHNldFVuY29udHJvbGxlZFByb3AsIGhhbmRsZUNoYW5nZV0sXG4gICk7XG5cbiAgcmV0dXJuIFt2YWx1ZSwgc2V0VmFsdWVdIGFzIGNvbnN0O1xufVxuIl0sIm5hbWVzIjpbIkRpYWxvZ1ByaW1pdGl2ZSIsIlJlYWN0IiwiRHJhd2VyQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJkcmF3ZXJSZWYiLCJjdXJyZW50Iiwib3ZlcmxheVJlZiIsInNjYWxlQmFja2dyb3VuZCIsIm9uUHJlc3MiLCJvblJlbGVhc2UiLCJvbkRyYWciLCJvbk5lc3RlZERyYWciLCJvbk5lc3RlZE9wZW5DaGFuZ2UiLCJvbk5lc3RlZFJlbGVhc2UiLCJvcGVuUHJvcCIsImRpc21pc3NpYmxlIiwiaXNPcGVuIiwia2V5Ym9hcmRJc09wZW4iLCJzbmFwUG9pbnRzT2Zmc2V0Iiwic25hcFBvaW50cyIsIm1vZGFsIiwic2hvdWxkRmFkZSIsImFjdGl2ZVNuYXBQb2ludCIsIm9uT3BlbkNoYW5nZSIsInNldEFjdGl2ZVNuYXBQb2ludCIsInZpc2libGUiLCJjbG9zZURyYXdlciIsInNldFZpc2libGUiLCJkaXJlY3Rpb24iLCJ1c2VEcmF3ZXJDb250ZXh0IiwidXNlQ29udGV4dCIsInN0eWxlSW5qZWN0IiwiY3NzIiwiaW5zZXJ0QXQiLCJkb2N1bWVudCIsImhlYWQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJmaXJzdENoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwidXNlRWZmZWN0IiwidXNlTGF5b3V0RWZmZWN0IiwidXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCIsImNoYWluIiwiY2FsbGJhY2tzIiwiYXJncyIsImNhbGxiYWNrIiwiaXNNYWMiLCJ0ZXN0UGxhdGZvcm0iLCJpc0lQaG9uZSIsImlzSVBhZCIsIm5hdmlnYXRvciIsIm1heFRvdWNoUG9pbnRzIiwiaXNJT1MiLCJyZSIsIndpbmRvdyIsInRlc3QiLCJwbGF0Zm9ybSIsInZpc3VhbFZpZXdwb3J0IiwiaXNTY3JvbGxhYmxlIiwibm9kZSIsImdldENvbXB1dGVkU3R5bGUiLCJvdmVyZmxvdyIsIm92ZXJmbG93WCIsIm92ZXJmbG93WSIsImdldFNjcm9sbFBhcmVudCIsInBhcmVudEVsZW1lbnQiLCJzY3JvbGxpbmdFbGVtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwibm9uVGV4dElucHV0VHlwZXMiLCJTZXQiLCJwcmV2ZW50U2Nyb2xsQ291bnQiLCJyZXN0b3JlIiwidXNlUHJldmVudFNjcm9sbCIsIm9wdGlvbnMiLCJpc0Rpc2FibGVkIiwicHJldmVudFNjcm9sbE1vYmlsZVNhZmFyaSIsInByZXZlbnRTY3JvbGxTdGFuZGFyZCIsInNldFN0eWxlIiwiaW5uZXJXaWR0aCIsImNsaWVudFdpZHRoIiwic2Nyb2xsYWJsZSIsImxhc3RZIiwib25Ub3VjaFN0YXJ0IiwiZSIsInRhcmdldCIsImJvZHkiLCJjaGFuZ2VkVG91Y2hlcyIsInBhZ2VZIiwib25Ub3VjaE1vdmUiLCJwcmV2ZW50RGVmYXVsdCIsInkiLCJzY3JvbGxUb3AiLCJib3R0b20iLCJzY3JvbGxIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJvblRvdWNoRW5kIiwiaXNJbnB1dCIsImFjdGl2ZUVsZW1lbnQiLCJ0cmFuc2Zvcm0iLCJmb2N1cyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm9uRm9jdXMiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsInNjcm9sbEludG9WaWV3IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJvbldpbmRvd1Njcm9sbCIsInNjcm9sbFRvIiwic2Nyb2xsWCIsInBhZ2VYT2Zmc2V0Iiwic2Nyb2xsWSIsInBhZ2VZT2Zmc2V0IiwicmVzdG9yZVN0eWxlcyIsInJlbW92ZUV2ZW50cyIsImFkZEV2ZW50IiwicGFzc2l2ZSIsImNhcHR1cmUiLCJlbGVtZW50IiwidmFsdWUiLCJjdXIiLCJldmVudCIsImhhbmRsZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicm9vdCIsInNjcm9sbGFibGVUb3AiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJ0YXJnZXRUb3AiLCJ0YXJnZXRCb3R0b20iLCJrZXlib2FyZEhlaWdodCIsIkhUTUxJbnB1dEVsZW1lbnQiLCJoYXMiLCJIVE1MVGV4dEFyZWFFbGVtZW50IiwiSFRNTEVsZW1lbnQiLCJpc0NvbnRlbnRFZGl0YWJsZSIsInNldFJlZiIsInJlZiIsImNvbXBvc2VSZWZzIiwicmVmcyIsImZvckVhY2giLCJ1c2VDb21wb3NlZFJlZnMiLCJCZSIsInVzZUNhbGxiYWNrIiwicHJldmlvdXNCb2R5UG9zaXRpb24iLCJ1c2VQb3NpdGlvbkZpeGVkIiwibmVzdGVkIiwiaGFzQmVlbk9wZW5lZCIsInByZXZlbnRTY3JvbGxSZXN0b3JhdGlvbiIsImFjdGl2ZVVybCIsInNldEFjdGl2ZVVybCIsInVzZVN0YXRlIiwibG9jYXRpb24iLCJocmVmIiwic2Nyb2xsUG9zIiwidXNlUmVmIiwic2V0UG9zaXRpb25GaXhlZCIsInBvc2l0aW9uIiwibGVmdCIsInNldFByb3BlcnR5IiwicmlnaHQiLCJzZXRUaW1lb3V0IiwiYm90dG9tQmFySGVpZ2h0IiwicmVzdG9yZVBvc2l0aW9uU2V0dGluZyIsInBhcnNlSW50IiwieCIsIm9uU2Nyb2xsIiwiY2FjaGUiLCJXZWFrTWFwIiwic2V0IiwiZWwiLCJzdHlsZXMiLCJpZ25vcmVDYWNoZSIsIm9yaWdpbmFsU3R5bGVzIiwiT2JqZWN0IiwiZW50cmllcyIsImtleSIsInN0YXJ0c1dpdGgiLCJyZXNldCIsInByb3AiLCJnZXQiLCJpc1ZlcnRpY2FsIiwiZ2V0VHJhbnNsYXRlIiwid2Via2l0VHJhbnNmb3JtIiwibW96VHJhbnNmb3JtIiwibWF0IiwibWF0Y2giLCJwYXJzZUZsb2F0Iiwic3BsaXQiLCJkYW1wZW5WYWx1ZSIsInYiLCJNYXRoIiwibG9nIiwiVFJBTlNJVElPTlMiLCJEVVJBVElPTiIsIkVBU0UiLCJWRUxPQ0lUWV9USFJFU0hPTEQiLCJ1c2VDYWxsYmFja1JlZiIsImNhbGxiYWNrUmVmIiwidXNlTWVtbyIsIl9hIiwiY2FsbCIsInVzZVVuY29udHJvbGxlZFN0YXRlIiwiZGVmYXVsdFByb3AiLCJvbkNoYW5nZSIsInVuY29udHJvbGxlZFN0YXRlIiwicHJldlZhbHVlUmVmIiwiaGFuZGxlQ2hhbmdlIiwidXNlQ29udHJvbGxhYmxlU3RhdGUiLCJ1bmNvbnRyb2xsZWRQcm9wIiwic2V0VW5jb250cm9sbGVkUHJvcCIsImlzQ29udHJvbGxlZCIsInNldFZhbHVlIiwibmV4dFZhbHVlIiwidXNlU25hcFBvaW50cyIsImFjdGl2ZVNuYXBQb2ludFByb3AiLCJzZXRBY3RpdmVTbmFwUG9pbnRQcm9wIiwiZmFkZUZyb21JbmRleCIsIm9uU25hcFBvaW50Q2hhbmdlIiwiaXNMYXN0U25hcFBvaW50IiwibGVuZ3RoIiwiTnVtYmVyIiwiaXNOYU4iLCJhY3RpdmVTbmFwUG9pbnRJbmRleCIsImZpbmRJbmRleCIsInNuYXBQb2ludCIsIm1hcCIsImhhc1dpbmRvdyIsImlzUHgiLCJzbmFwUG9pbnRBc051bWJlciIsIndpZHRoIiwiYWN0aXZlU25hcFBvaW50T2Zmc2V0Iiwic25hcFRvUG9pbnQiLCJkaW1lbnNpb24iLCJuZXdTbmFwUG9pbnRJbmRleCIsInNuYXBQb2ludERpbSIsInRyYW5zaXRpb24iLCJqb2luIiwib3BhY2l0eSIsIm5ld0luZGV4IiwiZHJhZ2dlZERpc3RhbmNlIiwidmVsb2NpdHkiLCJjdXJyZW50UG9zaXRpb24iLCJpc092ZXJsYXlTbmFwUG9pbnQiLCJpc0ZpcnN0IiwiaGFzRHJhZ2dlZFVwIiwiY2xvc2VzdFNuYXBQb2ludCIsInJlZHVjZSIsInByZXYiLCJjdXJyIiwiYWJzIiwiZGltIiwiZHJhZ0RpcmVjdGlvbiIsIm5ld1ZhbHVlIiwiZ2V0UGVyY2VudGFnZURyYWdnZWQiLCJhYnNEcmFnZ2VkRGlzdGFuY2UiLCJpc0RyYWdnaW5nRG93biIsInRhcmdldFNuYXBQb2ludEluZGV4Iiwic25hcFBvaW50RGlzdGFuY2UiLCJwZXJjZW50YWdlRHJhZ2dlZCIsIkNMT1NFX1RIUkVTSE9MRCIsIlNDUk9MTF9MT0NLX1RJTUVPVVQiLCJCT1JERVJfUkFESVVTIiwiTkVTVEVEX0RJU1BMQUNFTUVOVCIsIldJTkRPV19UT1BfT0ZGU0VUIiwiRFJBR19DTEFTUyIsIlJvb3QiLCJvcGVuIiwiY2hpbGRyZW4iLCJzaG91bGRTY2FsZUJhY2tncm91bmQiLCJvbkRyYWdQcm9wIiwib25SZWxlYXNlUHJvcCIsImNsb3NlVGhyZXNob2xkIiwic2Nyb2xsTG9ja1RpbWVvdXQiLCJmaXhlZCIsIm9uQ2xvc2UiLCJzZXRJc09wZW4iLCJzZXRIYXNCZWVuT3BlbmVkIiwibW91bnRlZCIsInNldE1vdW50ZWQiLCJpc0RyYWdnaW5nIiwic2V0SXNEcmFnZ2luZyIsImp1c3RSZWxlYXNlZCIsInNldEp1c3RSZWxlYXNlZCIsIm9wZW5UaW1lIiwiZHJhZ1N0YXJ0VGltZSIsImRyYWdFbmRUaW1lIiwibGFzdFRpbWVEcmFnUHJldmVudGVkIiwiaXNBbGxvd2VkVG9EcmFnIiwibmVzdGVkT3BlbkNoYW5nZVRpbWVyIiwicG9pbnRlclN0YXJ0IiwicHJldmlvdXNEaWZmRnJvbUluaXRpYWwiLCJkcmF3ZXJIZWlnaHRSZWYiLCJpbml0aWFsRHJhd2VySGVpZ2h0IiwiRGF0ZSIsIm9uUmVsZWFzZVNuYXBQb2ludHMiLCJvbkRyYWdTbmFwUG9pbnRzIiwiZ2V0U25hcFBvaW50c1BlcmNlbnRhZ2VEcmFnZ2VkIiwiZ2V0U2NhbGUiLCJjb250YWlucyIsInNldFBvaW50ZXJDYXB0dXJlIiwicG9pbnRlcklkIiwic2NyZWVuWSIsInNjcmVlblgiLCJzaG91bGREcmFnIiwiaXNEcmFnZ2luZ0luRGlyZWN0aW9uIiwiaGlnaGxpZ2h0ZWRUZXh0IiwiZ2V0U2VsZWN0aW9uIiwidG9TdHJpbmciLCJzd2lwZUFtb3VudCIsImRhdGUiLCJoYXNBdHRyaWJ1dGUiLCJnZXRUaW1lIiwiZ2V0QXR0cmlidXRlIiwicGFyZW50Tm9kZSIsImRpcmVjdGlvbk11bHRpcGxpZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJkYW1wZW5lZERyYWdnZWREaXN0YW5jZSIsInRyYW5zbGF0ZVZhbHVlIiwibWluIiwid3JhcHBlciIsInF1ZXJ5U2VsZWN0b3IiLCJzbmFwUG9pbnRQZXJjZW50YWdlRHJhZ2dlZCIsIm9wYWNpdHlWYWx1ZSIsInNjYWxlVmFsdWUiLCJib3JkZXJSYWRpdXNWYWx1ZSIsIm1heCIsImJvcmRlclJhZGl1cyIsIm9uVmlzdWFsVmlld3BvcnRDaGFuZ2UiLCJmb2N1c2VkRWxlbWVudCIsInZpc3VhbFZpZXdwb3J0SGVpZ2h0IiwiZGlmZkZyb21Jbml0aWFsIiwiZHJhd2VySGVpZ2h0Iiwib2Zmc2V0RnJvbVRvcCIsImFjdGl2ZVNuYXBQb2ludEhlaWdodCIsIm5ld0RyYXdlckhlaWdodCIsImlkIiwiY2xlYXJUaW1lb3V0IiwicmVzZXREcmF3ZXIiLCJjdXJyZW50U3dpcGVBbW91bnQiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJ0cmFuc2l0aW9uUHJvcGVydHkiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJ0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24iLCJyZW1vdmUiLCJ0aW1lVGFrZW4iLCJkaXN0TW92ZWQiLCJ2aXNpYmxlRHJhd2VySGVpZ2h0Iiwic2Nyb2xsQmVoYXZpb3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2hpbGQiLCJodG1sQ2hpbGQiLCJzY3JvbGxXaWR0aCIsImJhY2tncm91bmQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJvIiwic2NhbGUiLCJpbml0aWFsRGltIiwiaW5pdGlhbFNjYWxlIiwibmV3U2NhbGUiLCJuZXdUcmFuc2xhdGUiLCJ0cmFuc2xhdGUiLCJMIiwiUHJvdmlkZXIiLCJPdmVybGF5IiwiZm9yd2FyZFJlZiIsInJlc3QiLCJjb21wb3NlZFJlZiIsImhhc1NuYXBQb2ludHMiLCJvbk1vdXNlVXAiLCJkaXNwbGF5TmFtZSIsIkNvbnRlbnQiLCJvbk9wZW5BdXRvRm9jdXMiLCJvblBvaW50ZXJEb3duT3V0c2lkZSIsIm9uQW5pbWF0aW9uRW5kIiwib25Qb2ludGVyRG93biIsImRlZmF1bHRQcmV2ZW50ZWQiLCJvblBvaW50ZXJNb3ZlIiwib25Qb2ludGVyVXAiLCJOZXN0ZWRSb290IiwiRXJyb3IiLCJwIiwiRHJhd2VyIiwiVHJpZ2dlciIsIlBvcnRhbCIsIkNsb3NlIiwiVGl0bGUiLCJEZXNjcmlwdGlvbiIsIm5uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/vaul/dist/index.mjs\n");

/***/ })

};
;